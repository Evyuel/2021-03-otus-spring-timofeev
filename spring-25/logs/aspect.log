[INFO ] 2021-07-22 18:13:37.435 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 8704 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:13:37.449 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:13:39.328 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:13:39.478 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 135 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:13:41.187 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:13:41.478 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3960 ms
[INFO ] 2021-07-22 18:13:42.197 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:13:42.530 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:13:42.587 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:13:42.742 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.081s)
[INFO ] 2021-07-22 18:13:42.766 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:13:42.830 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:13:42.842 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:13:42.894 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:13:42.895 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.896 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.897 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.897 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.899 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.900 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.900 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.901 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.927 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:13:42.928 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.928 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.952 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:13:42.953 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.954 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.955 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.983 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:13:42.984 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:42.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.016 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:13:43.017 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.018 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.018 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.019 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.020 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.021 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.022 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.023 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.049 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:13:43.049 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.050 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.051 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.052 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.053 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.054 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.055 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.056 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.057 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.057 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.082 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:13:43.083 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.083 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:13:43.100 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.279s)
[INFO ] 2021-07-22 18:13:43.250 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:13:43.378 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:13:43.662 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:13:43.962 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:13:45.020 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:13:45.033 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:13:46.075 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:13:46.450 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8d5b303, org.springframework.security.web.context.SecurityContextPersistenceFilter@2060df8, org.springframework.security.web.header.HeaderWriterFilter@49522bdf, org.springframework.security.web.authentication.logout.LogoutFilter@4bbabec8, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@5984742f, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@56a6aadb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f5ad6b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18f1a81a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@359903b6, org.springframework.security.web.session.SessionManagementFilter@4400026, org.springframework.security.web.access.ExceptionTranslationFilter@546ca9da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77b0ff24]
[INFO ] 2021-07-22 18:13:46.687 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:13:46.905 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:13:47.561 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:13:47.651 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:13:47.670 [main] Application - Started Application in 11.096 seconds (JVM running for 13.209)
[INFO ] 2021-07-22 18:13:47.881 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:13:47.884 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[INFO ] 2021-07-22 18:31:06.035 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 9004 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:31:06.050 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:31:07.972 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:31:08.148 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:31:09.857 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:31:10.118 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4001 ms
[INFO ] 2021-07-22 18:31:10.877 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:31:11.177 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:31:11.246 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:31:11.406 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.075s)
[INFO ] 2021-07-22 18:31:11.432 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:31:11.503 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:31:11.513 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:31:11.582 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:31:11.583 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.583 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.584 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.585 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.586 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.586 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.587 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.587 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.589 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.618 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:31:11.619 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.620 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.653 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:31:11.654 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.655 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.656 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.687 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:31:11.688 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.690 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.722 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:31:11.723 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.724 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.725 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.726 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.727 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.728 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.729 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.730 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.756 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:31:11.757 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.758 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.759 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.759 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.760 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.762 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.762 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.763 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.764 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.784 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:31:11.785 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.786 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.787 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.787 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:31:11.805 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.315s)
[INFO ] 2021-07-22 18:31:11.972 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:31:12.091 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:31:12.392 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:31:12.664 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:31:13.769 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:31:13.786 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:31:14.847 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:31:15.253 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c04310f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7d453075, org.springframework.security.web.header.HeaderWriterFilter@fdeec12, org.springframework.security.web.authentication.logout.LogoutFilter@773ad729, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@5ce7ab6f, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@28f7cca4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36995784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2943e61c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6015c745, org.springframework.security.web.session.SessionManagementFilter@17e323fd, org.springframework.security.web.access.ExceptionTranslationFilter@2b27d5d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d9ad37e]
[INFO ] 2021-07-22 18:31:15.491 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:31:15.681 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:31:16.341 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:31:16.439 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:31:16.458 [main] Application - Started Application in 11.453 seconds (JVM running for 13.045)
[INFO ] 2021-07-22 18:31:16.672 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:31:16.675 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[INFO ] 2021-07-22 18:39:52.165 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 12272 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:39:52.182 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:39:54.082 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:39:54.264 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:39:55.920 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:39:56.192 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3936 ms
[INFO ] 2021-07-22 18:39:56.923 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:39:57.245 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:39:57.309 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:39:57.457 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.062s)
[INFO ] 2021-07-22 18:39:57.483 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:39:57.561 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:39:57.574 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:39:57.643 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:39:57.644 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.646 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.647 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.647 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.649 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.649 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.650 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.651 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.684 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:39:57.685 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.686 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.723 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:39:57.726 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.727 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.728 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.764 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:39:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.766 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.800 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:39:57.801 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.802 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.803 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.804 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.804 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.805 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.806 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.807 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.829 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:39:57.830 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.831 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.832 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.832 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.833 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.834 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.835 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.836 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.836 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.837 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.858 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:39:57.858 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.859 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.860 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.861 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:39:57.884 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.336s)
[INFO ] 2021-07-22 18:39:58.045 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:39:58.180 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:39:58.498 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:39:58.777 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:39:59.988 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:40:00.009 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:40:01.034 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:40:01.460 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23f27434, org.springframework.security.web.context.SecurityContextPersistenceFilter@6df0d030, org.springframework.security.web.header.HeaderWriterFilter@cc3fc5c, org.springframework.security.web.authentication.logout.LogoutFilter@4823f4d0, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@43e6f05f, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@2fccfcdb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16df0ebd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cd9ce76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c04310f, org.springframework.security.web.session.SessionManagementFilter@1cecd0a9, org.springframework.security.web.access.ExceptionTranslationFilter@2693e39c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@705ebb4d]
[INFO ] 2021-07-22 18:40:01.725 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:40:01.925 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:40:02.635 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:40:02.743 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:40:02.774 [main] Application - Started Application in 11.64 seconds (JVM running for 13.246)
[INFO ] 2021-07-22 18:40:02.989 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:40:02.992 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[INFO ] 2021-07-22 18:41:11.871 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 12716 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:41:11.886 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:41:13.865 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:41:14.025 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:41:15.792 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:41:16.002 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4042 ms
[INFO ] 2021-07-22 18:41:16.756 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:41:17.105 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:41:17.172 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:41:17.321 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.062s)
[INFO ] 2021-07-22 18:41:17.354 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:41:17.426 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:41:17.439 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:41:17.509 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:41:17.510 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.511 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.512 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.513 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.513 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.514 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.515 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.515 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.516 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.517 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.554 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:41:17.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.556 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.593 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:41:17.594 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.595 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.596 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.628 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:41:17.629 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.631 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.662 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:41:17.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.665 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.666 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.667 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.667 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.668 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.669 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.670 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.696 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:41:17.697 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.698 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.699 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.700 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.701 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.703 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.704 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.705 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.728 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:41:17.729 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.729 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.730 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.731 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:41:17.757 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.346s)
[INFO ] 2021-07-22 18:41:17.912 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:41:18.002 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:41:18.302 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:41:18.593 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:41:19.604 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:41:19.618 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:41:20.920 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:41:21.411 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6aaed880, org.springframework.security.web.context.SecurityContextPersistenceFilter@5069a91b, org.springframework.security.web.header.HeaderWriterFilter@308d8de8, org.springframework.security.web.authentication.logout.LogoutFilter@2aac60b, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@9bd477c, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@7444714e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36e95b7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d1f6e1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b3708f0, org.springframework.security.web.session.SessionManagementFilter@5e38329d, org.springframework.security.web.access.ExceptionTranslationFilter@49522bdf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d6cbbdb]
[INFO ] 2021-07-22 18:41:21.701 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:41:21.888 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:41:22.734 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:41:22.841 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:41:22.861 [main] Application - Started Application in 12.006 seconds (JVM running for 13.773)
[INFO ] 2021-07-22 18:41:23.053 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:41:23.056 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[INFO ] 2021-07-22 18:50:17.633 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 2756 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:50:17.647 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:50:19.515 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:50:19.667 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 139 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:50:21.328 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:50:21.555 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3841 ms
[INFO ] 2021-07-22 18:50:22.450 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:50:22.752 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:50:22.816 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:50:22.954 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.062s)
[INFO ] 2021-07-22 18:50:22.982 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:50:23.062 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:50:23.072 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:50:23.132 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:50:23.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.136 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.136 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.137 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.138 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.138 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.139 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.167 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:50:23.168 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.168 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.190 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:50:23.191 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.191 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.192 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.220 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:50:23.221 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.222 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.254 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:50:23.255 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.257 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.258 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.258 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.260 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.261 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.262 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.296 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:50:23.297 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.298 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.299 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.299 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.301 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.302 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.303 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.303 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.304 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.327 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:50:23.328 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.329 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.330 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.331 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:23.352 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.301s)
[INFO ] 2021-07-22 18:50:23.503 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:50:23.602 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:50:23.858 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:50:24.145 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:50:25.338 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:50:25.358 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:50:26.362 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:50:26.818 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cca7d3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@74597c37, org.springframework.security.web.header.HeaderWriterFilter@29becf8b, org.springframework.security.web.authentication.logout.LogoutFilter@58397dd, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@5e1535e0, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@6c27be1d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2943e61c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@529fda9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e7cd4bb, org.springframework.security.web.session.SessionManagementFilter@740530b, org.springframework.security.web.access.ExceptionTranslationFilter@6df0d030, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4690a37e]
[INFO ] 2021-07-22 18:50:27.075 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:50:27.265 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:50:27.944 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:50:28.038 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:50:28.056 [main] Application - Started Application in 11.387 seconds (JVM running for 12.89)
[INFO ] 2021-07-22 18:50:28.280 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:50:28.284 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 3 ms
[INFO ] 2021-07-22 18:50:51.607 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 3088 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:50:51.627 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:50:53.781 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:50:53.972 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:50:56.089 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:50:56.423 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4703 ms
[INFO ] 2021-07-22 18:50:57.330 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:50:57.672 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:50:57.756 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:50:57.914 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.067s)
[INFO ] 2021-07-22 18:50:57.948 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:50:58.027 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:50:58.044 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:50:58.137 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:50:58.138 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.139 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.141 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.142 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.143 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.144 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.146 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.146 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.147 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.148 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.196 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:50:58.197 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.198 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.228 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:50:58.229 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.229 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.230 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.259 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:50:58.260 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.260 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.281 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:50:58.282 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.283 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.284 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.284 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.285 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.286 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.286 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.287 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.309 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:50:58.310 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.310 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.311 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.313 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.314 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.315 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.315 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.316 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.336 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:50:58.337 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.337 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.338 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.339 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:50:58.373 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.359s)
[INFO ] 2021-07-22 18:50:58.556 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:50:58.687 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:50:58.976 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:50:59.294 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:51:00.592 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:51:00.611 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:51:17.894 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:51:18.374 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3359217d, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d76aa05, org.springframework.security.web.header.HeaderWriterFilter@2cca7d3c, org.springframework.security.web.authentication.logout.LogoutFilter@218c6d3e, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@25ee3cd6, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@732ae29c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a70acd5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dfe2797, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100d5018, org.springframework.security.web.session.SessionManagementFilter@51a06fd5, org.springframework.security.web.access.ExceptionTranslationFilter@4c897417, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@eccaf1b]
[INFO ] 2021-07-22 18:51:18.680 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:51:18.891 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:51:19.668 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:51:19.827 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:51:19.854 [main] Application - Started Application in 29.282 seconds (JVM running for 31.877)
[INFO ] 2021-07-22 18:51:20.124 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:51:20.128 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 3 ms
[INFO ] 2021-07-22 18:52:46.365 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:52:46.370 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 18:52:54.115 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 11848 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:52:54.151 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:52:56.183 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:52:56.348 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 147 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:52:58.233 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:52:58.460 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4199 ms
[INFO ] 2021-07-22 18:52:59.357 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:52:59.729 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:52:59.800 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:52:59.969 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.067s)
[INFO ] 2021-07-22 18:52:59.997 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:53:00.098 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:53:00.116 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:53:00.196 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:53:00.197 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.198 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.199 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.200 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.201 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.201 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.202 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.203 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.204 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.204 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.243 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:53:00.244 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.245 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.276 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:53:00.277 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.278 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.278 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.308 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:53:00.310 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.311 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.335 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:53:00.336 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.337 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.338 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.338 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.339 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.340 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.341 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.341 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.367 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:53:00.368 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.369 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.370 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.371 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.372 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.372 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.373 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.375 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.375 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.401 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:53:00.401 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.403 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.404 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:53:00.429 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.347s)
[INFO ] 2021-07-22 18:53:00.603 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:53:00.737 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:53:01.014 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:53:01.300 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:53:02.663 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:53:02.687 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:53:08.395 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:53:08.877 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3359217d, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d76aa05, org.springframework.security.web.header.HeaderWriterFilter@2cca7d3c, org.springframework.security.web.authentication.logout.LogoutFilter@218c6d3e, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@25ee3cd6, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@732ae29c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a70acd5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dfe2797, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@100d5018, org.springframework.security.web.session.SessionManagementFilter@51a06fd5, org.springframework.security.web.access.ExceptionTranslationFilter@4c897417, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@eccaf1b]
[INFO ] 2021-07-22 18:53:09.168 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:53:09.384 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:53:10.194 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:53:10.342 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:53:10.368 [main] Application - Started Application in 17.352 seconds (JVM running for 19.462)
[INFO ] 2021-07-22 18:53:10.627 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:53:10.633 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 4 ms
[INFO ] 2021-07-22 18:54:22.877 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:54:22.881 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 18:54:30.227 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 1632 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:54:30.245 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:54:32.179 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:54:32.322 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 128 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:54:33.990 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:54:34.223 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3904 ms
[INFO ] 2021-07-22 18:54:34.963 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:54:35.274 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:54:35.342 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:54:35.493 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.064s)
[INFO ] 2021-07-22 18:54:35.521 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:54:35.597 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:54:35.611 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:54:35.686 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:54:35.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.688 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.689 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.690 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.690 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.691 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.693 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.733 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:54:35.735 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.736 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.768 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:54:35.770 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.771 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.772 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.807 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:54:35.808 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.809 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.842 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:54:35.843 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.844 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.845 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.845 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.846 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.847 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.847 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.848 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.873 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:54:35.874 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.875 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.877 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.877 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.878 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.879 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.879 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.880 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.881 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.903 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:54:35.904 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.905 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.905 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.906 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:54:35.925 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.341s)
[INFO ] 2021-07-22 18:54:36.081 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:54:36.180 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:54:36.422 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:54:36.764 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:54:37.814 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:54:37.827 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:54:38.901 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:54:39.265 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18487f92, org.springframework.security.web.context.SecurityContextPersistenceFilter@31ce271c, org.springframework.security.web.header.HeaderWriterFilter@73ba3c4b, org.springframework.security.web.authentication.logout.LogoutFilter@4101e146, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@252f00ba, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@4667c6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fe40b9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@326d39fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5efa05f9, org.springframework.security.web.session.SessionManagementFilter@4d1f6e1c, org.springframework.security.web.access.ExceptionTranslationFilter@1e5921ec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77c1a7ce]
[INFO ] 2021-07-22 18:54:39.500 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:54:39.685 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:54:40.368 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:54:40.471 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:54:40.499 [main] Application - Started Application in 11.318 seconds (JVM running for 12.994)
[INFO ] 2021-07-22 18:54:40.704 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:54:40.708 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 3 ms
[INFO ] 2021-07-22 18:56:06.731 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 2072 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 18:56:06.748 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 18:56:08.564 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 18:56:08.717 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 135 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 18:56:10.447 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 18:56:10.682 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3862 ms
[INFO ] 2021-07-22 18:56:11.404 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 18:56:11.690 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 18:56:11.753 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 18:56:11.887 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.059s)
[INFO ] 2021-07-22 18:56:11.915 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 18:56:11.993 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 18:56:12.005 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 18:56:12.079 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 18:56:12.080 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.081 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.081 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.082 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.083 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.083 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.085 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.086 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.086 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.124 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 18:56:12.125 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.126 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.165 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 18:56:12.167 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.168 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.168 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.200 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 18:56:12.201 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.202 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.235 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 18:56:12.236 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.237 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.237 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.238 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.239 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.240 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.241 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.242 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.269 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 18:56:12.270 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.271 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.272 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.272 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.273 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.274 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.275 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.276 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.277 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.277 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.303 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 18:56:12.304 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.305 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.305 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.306 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 18:56:12.330 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.352s)
[INFO ] 2021-07-22 18:56:12.497 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 18:56:12.615 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 18:56:12.880 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 18:56:13.161 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 18:56:14.195 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 18:56:14.210 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 18:56:15.253 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 18:56:15.680 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56a6aadb, org.springframework.security.web.context.SecurityContextPersistenceFilter@60be9fdf, org.springframework.security.web.header.HeaderWriterFilter@39eea4f6, org.springframework.security.web.authentication.logout.LogoutFilter@2b27d5d3, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@359903b6, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1071f3ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@443d94ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@304933cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6aaed880, org.springframework.security.web.session.SessionManagementFilter@7c08461b, org.springframework.security.web.access.ExceptionTranslationFilter@14e54a35, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6391d34f]
[INFO ] 2021-07-22 18:56:15.921 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 18:56:16.108 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 18:56:16.776 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 18:56:16.883 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 18:56:16.910 [main] Application - Started Application in 11.105 seconds (JVM running for 12.748)
[INFO ] 2021-07-22 18:56:17.114 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 18:56:17.117 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 3 ms
[INFO ] 2021-07-22 19:10:49.202 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 12880 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 19:10:49.210 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 19:10:51.101 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 19:10:51.273 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 146 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 19:10:52.994 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 19:10:53.218 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3944 ms
[INFO ] 2021-07-22 19:10:53.945 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 19:10:54.246 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 19:10:54.311 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 19:10:54.479 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.075s)
[INFO ] 2021-07-22 19:10:54.503 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 19:10:54.585 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 19:10:54.601 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 19:10:54.665 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 19:10:54.665 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.713 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 19:10:54.713 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.713 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.745 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 19:10:54.745 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.745 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.753 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.777 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 19:10:54.777 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.785 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.809 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 19:10:54.809 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.809 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.809 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.817 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.817 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.817 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.817 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.817 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.842 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 19:10:54.842 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.882 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 19:10:54.882 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.882 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.882 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.882 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:10:54.906 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.338s)
[INFO ] 2021-07-22 19:10:55.074 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 19:10:55.210 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 19:10:55.579 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 19:10:55.887 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 19:10:57.023 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 19:10:57.039 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 19:10:58.085 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 19:10:58.511 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@475fb7, org.springframework.security.web.context.SecurityContextPersistenceFilter@444720b7, org.springframework.security.web.header.HeaderWriterFilter@6bab373c, org.springframework.security.web.authentication.logout.LogoutFilter@2c9430c6, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@41db6e4b, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@5367d46f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@318353, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4823f4d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c4eccd2, org.springframework.security.web.session.SessionManagementFilter@7fecc26f, org.springframework.security.web.access.ExceptionTranslationFilter@74597c37, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1eeb9e5c]
[INFO ] 2021-07-22 19:10:58.770 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:10:58.960 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 19:10:59.629 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 19:10:59.733 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 19:10:59.753 [main] Application - Started Application in 11.575 seconds (JVM running for 13.177)
[INFO ] 2021-07-22 19:10:59.960 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 19:10:59.960 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-07-22 19:11:34.338 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 14808 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 19:11:34.357 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 19:11:36.211 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 19:11:36.356 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 130 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 19:11:38.065 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 19:11:38.281 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3860 ms
[INFO ] 2021-07-22 19:11:38.956 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 19:11:39.272 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 19:11:39.328 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 19:11:39.472 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.058s)
[INFO ] 2021-07-22 19:11:39.504 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 19:11:39.576 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 19:11:39.592 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 19:11:39.664 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.696 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 19:11:39.704 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.704 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.728 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 19:11:39.728 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.736 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.736 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.760 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 19:11:39.760 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.760 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.800 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 19:11:39.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.808 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.864 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 19:11:39.864 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.864 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.864 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.864 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:11:39.888 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.324s)
[INFO ] 2021-07-22 19:11:40.049 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 19:11:40.161 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 19:11:40.438 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 19:11:40.735 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 19:11:41.947 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 19:11:41.965 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 19:11:43.044 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 19:11:43.439 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14ecd835, org.springframework.security.web.context.SecurityContextPersistenceFilter@3dd8b40e, org.springframework.security.web.header.HeaderWriterFilter@73b71935, org.springframework.security.web.authentication.logout.LogoutFilter@232899d1, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@19c578bf, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1eeb9e5c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cd9ce76, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70313b0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cca7d3c, org.springframework.security.web.session.SessionManagementFilter@628b1538, org.springframework.security.web.access.ExceptionTranslationFilter@4822d7a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6bc1c8d0]
[INFO ] 2021-07-22 19:11:43.685 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:11:43.877 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 19:11:44.582 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 19:11:44.683 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 19:11:44.691 [main] Application - Started Application in 11.345 seconds (JVM running for 12.917)
[INFO ] 2021-07-22 19:11:44.893 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 19:11:44.893 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 0 ms
[INFO ] 2021-07-22 19:24:35.867 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 12800 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 19:24:35.890 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 19:24:38.131 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 19:24:38.310 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 19:24:40.607 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 19:24:40.888 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4902 ms
[INFO ] 2021-07-22 19:24:41.655 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 19:24:41.992 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 19:24:42.057 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 19:24:42.339 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.072s)
[INFO ] 2021-07-22 19:24:42.359 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 19:24:42.436 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 19:24:42.450 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 19:24:42.524 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 19:24:42.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.528 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.532 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.569 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 19:24:42.569 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.569 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.606 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 19:24:42.606 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.606 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.606 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.638 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 19:24:42.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.670 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 19:24:42.670 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.670 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.698 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 19:24:42.698 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.706 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.706 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.706 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.706 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.706 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.734 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 19:24:42.734 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.734 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.734 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.734 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:24:42.758 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.334s)
[INFO ] 2021-07-22 19:24:42.935 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 19:24:43.082 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 19:24:43.420 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 19:24:43.736 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 19:24:45.080 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 19:24:45.112 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 19:24:46.306 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 19:24:46.736 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31d09031, org.springframework.security.web.context.SecurityContextPersistenceFilter@14ecd835, org.springframework.security.web.header.HeaderWriterFilter@2fccfcdb, org.springframework.security.web.authentication.logout.LogoutFilter@700b035b, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@5a0f5567, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@106f0051, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e1535e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@628e0403, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe687b5, org.springframework.security.web.session.SessionManagementFilter@6015c745, org.springframework.security.web.access.ExceptionTranslationFilter@7f93fce1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a8081f5]
[INFO ] 2021-07-22 19:24:46.995 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:24:47.225 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 19:24:48.033 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 19:24:48.179 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 19:24:48.205 [main] Application - Started Application in 13.458 seconds (JVM running for 15.441)
[INFO ] 2021-07-22 19:24:51.342 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 19:24:51.346 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 4 ms
[INFO ] 2021-07-22 19:47:17.363 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:47:17.363 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 19:48:21.301 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 14568 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 19:48:21.312 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 19:48:23.410 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 19:48:23.584 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 156 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 19:48:25.397 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 19:48:25.667 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4255 ms
[INFO ] 2021-07-22 19:48:26.459 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 19:48:26.807 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 19:48:26.883 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 19:48:27.052 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.080s)
[INFO ] 2021-07-22 19:48:27.084 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 19:48:27.168 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 19:48:27.184 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 19:48:27.268 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.300 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 19:48:27.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.337 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 19:48:27.337 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.337 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.337 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.369 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 19:48:27.369 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.369 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.422 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 19:48:27.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.438 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.438 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.438 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.453 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 19:48:27.453 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.453 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.453 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.453 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:48:27.469 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.319s)
[INFO ] 2021-07-22 19:48:27.654 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 19:48:27.816 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 19:48:28.198 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 19:48:28.523 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 19:48:29.954 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 19:48:29.976 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 19:48:31.178 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 19:48:31.625 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dceec83, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c897417, org.springframework.security.web.header.HeaderWriterFilter@23f27434, org.springframework.security.web.authentication.logout.LogoutFilter@5b2c9a69, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@74b13aa, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@31d09031, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1eeb9e5c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2403c1c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a0f5567, org.springframework.security.web.session.SessionManagementFilter@5ce7ab6f, org.springframework.security.web.access.ExceptionTranslationFilter@3524ee20, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7040d71]
[INFO ] 2021-07-22 19:48:31.924 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:48:32.126 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 19:48:32.905 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 19:48:33.026 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 19:48:33.054 [main] Application - Started Application in 12.861 seconds (JVM running for 14.763)
[INFO ] 2021-07-22 19:50:23.306 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 19:50:23.310 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 4 ms
[INFO ] 2021-07-22 19:52:50.719 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:52:50.719 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 19:52:59.245 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 6268 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 19:52:59.261 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 19:53:01.361 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 19:53:01.537 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 160 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 19:53:03.440 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 19:53:03.706 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4347 ms
[INFO ] 2021-07-22 19:53:04.517 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 19:53:04.863 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 19:53:04.927 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 19:53:05.103 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.081s)
[INFO ] 2021-07-22 19:53:05.135 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 19:53:05.224 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 19:53:05.240 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 19:53:05.320 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 19:53:05.320 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.320 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.320 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.320 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.320 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.320 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.320 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.328 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.328 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.328 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.360 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 19:53:05.360 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.360 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.392 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 19:53:05.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.432 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 19:53:05.432 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.432 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.464 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.496 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.504 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.536 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 19:53:05.536 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.536 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.544 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.544 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:53:05.568 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.366s)
[INFO ] 2021-07-22 19:53:05.752 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 19:53:05.904 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 19:53:06.226 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 19:53:06.562 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 19:53:07.901 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 19:53:07.925 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 19:53:09.206 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 19:53:09.699 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a25c9ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a70acd5, org.springframework.security.web.header.HeaderWriterFilter@51a06fd5, org.springframework.security.web.authentication.logout.LogoutFilter@6c2063e0, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3e7940b3, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1ae37be2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c4eccd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32c114d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60147536, org.springframework.security.web.session.SessionManagementFilter@6d76aa05, org.springframework.security.web.access.ExceptionTranslationFilter@1eeb9e5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a0f5567]
[INFO ] 2021-07-22 19:53:09.968 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:53:10.176 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 19:53:10.928 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 19:53:11.047 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 19:53:11.071 [main] Application - Started Application in 12.822 seconds (JVM running for 14.721)
[INFO ] 2021-07-22 19:53:11.403 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 19:53:11.411 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 19:59:52.743 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 2608 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 19:59:52.759 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 19:59:54.695 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 19:59:54.850 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 136 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 19:59:56.442 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 19:59:56.712 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3883 ms
[INFO ] 2021-07-22 19:59:57.512 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 19:59:57.857 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 19:59:57.926 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 19:59:58.069 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.063s)
[INFO ] 2021-07-22 19:59:58.099 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 19:59:58.181 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 19:59:58.191 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 19:59:58.265 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.273 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.299 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 19:59:58.299 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.299 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.331 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 19:59:58.339 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.339 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.339 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.371 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 19:59:58.371 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.371 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.451 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 19:59:58.459 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.459 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.459 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.459 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.495 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 19:59:58.495 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.495 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.495 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.495 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 19:59:58.519 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.353s)
[INFO ] 2021-07-22 19:59:58.672 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 19:59:58.776 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 19:59:59.024 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 19:59:59.342 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:00:00.545 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:00:00.555 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:00:01.557 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:00:01.958 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4505ec36, org.springframework.security.web.context.SecurityContextPersistenceFilter@75f316df, org.springframework.security.web.header.HeaderWriterFilter@72ea5674, org.springframework.security.web.authentication.logout.LogoutFilter@6527f68a, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@41fe0d98, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@7b23aea2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d408746, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@216c6825, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3fecdd00, org.springframework.security.web.session.SessionManagementFilter@569d6e0d, org.springframework.security.web.access.ExceptionTranslationFilter@2b8f5aa4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41db6e4b]
[INFO ] 2021-07-22 20:00:02.197 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:00:02.397 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:00:03.100 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:00:03.193 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:00:03.223 [main] Application - Started Application in 11.601 seconds (JVM running for 13.162)
[INFO ] 2021-07-22 20:00:06.468 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:00:06.472 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 4 ms
[INFO ] 2021-07-22 20:01:17.815 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 7504 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:01:17.830 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:01:19.720 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:01:19.888 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:01:21.491 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:01:21.739 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3840 ms
[INFO ] 2021-07-22 20:01:22.458 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:01:22.757 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:01:22.810 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:01:22.957 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.068s)
[INFO ] 2021-07-22 20:01:22.980 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:01:23.058 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:01:23.080 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:01:23.158 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.196 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:01:23.196 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.196 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.227 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:01:23.243 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.243 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.243 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.274 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:01:23.274 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.281 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.296 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:01:23.296 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.296 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.327 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:01:23.327 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.327 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.374 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:01:23.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:01:23.396 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.343s)
[INFO ] 2021-07-22 20:01:23.544 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:01:23.645 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:01:23.897 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:01:24.198 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:01:25.226 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:01:25.242 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:01:26.279 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:01:26.649 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@101eb529, org.springframework.security.web.context.SecurityContextPersistenceFilter@333e01c6, org.springframework.security.web.header.HeaderWriterFilter@4f5ad6b7, org.springframework.security.web.authentication.logout.LogoutFilter@6df0d030, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@6a9b8f33, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@5ac8916d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@304933cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f523dae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7375ebe7, org.springframework.security.web.session.SessionManagementFilter@2b551e7b, org.springframework.security.web.access.ExceptionTranslationFilter@6c37c36, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b6c882c]
[INFO ] 2021-07-22 20:01:26.888 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:01:27.082 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:01:27.739 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:01:27.836 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:01:27.856 [main] Application - Started Application in 11.006 seconds (JVM running for 12.699)
[INFO ] 2021-07-22 20:01:36.341 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:01:36.345 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 20:01:43.659 [http-nio-8080-exec-3] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:03:52.005 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 11596 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:03:52.036 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:03:53.987 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:03:54.134 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 142 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:03:55.923 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:03:56.154 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4049 ms
[INFO ] 2021-07-22 20:03:56.878 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:03:57.195 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:03:57.242 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:03:57.395 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.067s)
[INFO ] 2021-07-22 20:03:57.427 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:03:57.511 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:03:57.527 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:03:57.612 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.612 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.643 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:03:57.643 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.643 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.681 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:03:57.681 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.681 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.727 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:03:57.727 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.727 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.796 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.843 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:03:57.843 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.843 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.843 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.843 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:03:57.866 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.370s)
[INFO ] 2021-07-22 20:03:58.039 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:03:58.166 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:03:58.423 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:03:58.727 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:03:59.823 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:03:59.839 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:04:01.029 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:04:01.433 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a744e32, org.springframework.security.web.context.SecurityContextPersistenceFilter@797c67c, org.springframework.security.web.header.HeaderWriterFilter@18f1a81a, org.springframework.security.web.authentication.logout.LogoutFilter@3dd8b40e, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@18487f92, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@252f00ba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f523dae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b68c59b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4667c6d9, org.springframework.security.web.session.SessionManagementFilter@6fe55fcf, org.springframework.security.web.access.ExceptionTranslationFilter@36e95b7b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b3708f0]
[INFO ] 2021-07-22 20:04:01.698 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:04:01.887 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:04:02.578 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:04:02.682 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:04:02.706 [main] Application - Started Application in 11.719 seconds (JVM running for 13.375)
[INFO ] 2021-07-22 20:04:06.306 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:04:06.310 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 20:04:06.870 [http-nio-8080-exec-1] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:07:11.429 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 11356 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:07:11.459 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:07:14.830 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:07:15.022 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 166 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:07:16.970 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:07:17.210 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5630 ms
[INFO ] 2021-07-22 20:07:18.053 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:07:18.433 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:07:18.533 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:07:18.733 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.074s)
[INFO ] 2021-07-22 20:07:18.764 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:07:18.865 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:07:18.880 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:07:18.965 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.996 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:07:18.996 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:18.996 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.034 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:07:19.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.065 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:07:19.065 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.065 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.166 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:07:19.166 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.181 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.181 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.181 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:07:19.219 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.370s)
[INFO ] 2021-07-22 20:07:19.397 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:07:19.566 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:07:19.903 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:07:20.246 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:07:21.597 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:07:21.613 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:07:22.885 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:07:23.333 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17fa25f1, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c04310f, org.springframework.security.web.header.HeaderWriterFilter@3524ee20, org.springframework.security.web.authentication.logout.LogoutFilter@7b23aea2, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@50ac63b2, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1545ef47, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d541e01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51a06fd5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48dfce5c, org.springframework.security.web.session.SessionManagementFilter@4690a37e, org.springframework.security.web.access.ExceptionTranslationFilter@481b8d53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@608b74f3]
[INFO ] 2021-07-22 20:07:23.628 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:07:23.881 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:07:24.677 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:07:24.826 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:07:24.842 [main] Application - Started Application in 15.022 seconds (JVM running for 17.031)
[INFO ] 2021-07-22 20:08:10.535 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:08:10.539 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 20:09:17.146 [http-nio-8080-exec-8] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 20:10:27.832 [http-nio-8080-exec-9] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:10:44.027 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:10:44.027 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:10:51.967 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 14576 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:10:51.983 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:10:54.102 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:10:54.286 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 165 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:10:56.462 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:10:56.762 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4694 ms
[INFO ] 2021-07-22 20:10:57.591 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:10:57.974 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:10:58.045 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:10:58.244 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.105s)
[INFO ] 2021-07-22 20:10:58.268 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:10:58.351 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:10:58.372 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:10:58.458 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:10:58.458 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.458 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.505 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:10:58.505 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.505 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.539 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:10:58.539 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.539 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.539 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.571 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:10:58.571 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.571 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.603 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.646 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:10:58.646 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.648 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.688 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:10:58.688 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:10:58.730 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.389s)
[INFO ] 2021-07-22 20:10:58.889 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:10:59.029 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:10:59.307 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:10:59.608 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:11:00.880 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:11:00.895 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:11:02.098 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:11:02.571 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@100d5018, org.springframework.security.web.context.SecurityContextPersistenceFilter@628e0403, org.springframework.security.web.header.HeaderWriterFilter@2e7cd4bb, org.springframework.security.web.authentication.logout.LogoutFilter@2e871e93, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@6a25c9ad, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@3e7940b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5367d46f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ecf4608, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ae37be2, org.springframework.security.web.session.SessionManagementFilter@3f7aa4f8, org.springframework.security.web.access.ExceptionTranslationFilter@19c578bf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31d09031]
[INFO ] 2021-07-22 20:11:02.863 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:11:03.084 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:11:03.890 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:11:04.011 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:11:04.042 [main] Application - Started Application in 13.097 seconds (JVM running for 15.074)
[INFO ] 2021-07-22 20:12:01.042 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:12:01.050 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 4 ms
[INFO ] 2021-07-22 20:13:51.955 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:13:51.970 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:14:00.712 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 6648 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:14:00.736 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:14:03.070 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:14:03.276 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 188 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:14:05.432 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:14:05.722 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4890 ms
[INFO ] 2021-07-22 20:14:06.624 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:14:07.053 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:14:07.141 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:14:07.335 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.091s)
[INFO ] 2021-07-22 20:14:07.375 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:14:07.474 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:14:07.492 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:14:07.586 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.638 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:14:07.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.669 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:14:07.677 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.677 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.677 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.699 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:14:07.707 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.707 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.737 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.769 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:14:07.769 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.769 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.769 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.777 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.777 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.777 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.779 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.779 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.779 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.779 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.810 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:14:07.810 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.810 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.810 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.810 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:14:07.848 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.392s)
[INFO ] 2021-07-22 20:14:08.050 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:14:08.233 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:14:08.577 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:14:08.941 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:14:10.506 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:14:10.528 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:14:11.857 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:14:12.362 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a86112a, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c27be1d, org.springframework.security.web.header.HeaderWriterFilter@2d541e01, org.springframework.security.web.authentication.logout.LogoutFilter@20c55658, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3203ffa3, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@49231d79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@776b7fa2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c4eccd2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25f67aea, org.springframework.security.web.session.SessionManagementFilter@19c578bf, org.springframework.security.web.access.ExceptionTranslationFilter@2fccfcdb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12faeada]
[INFO ] 2021-07-22 20:14:12.688 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:14:12.914 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:14:13.818 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:14:13.949 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:14:13.979 [main] Application - Started Application in 14.487 seconds (JVM running for 16.665)
[INFO ] 2021-07-22 20:14:20.800 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:14:20.808 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 20:14:22.590 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:15:53.476 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:15:53.476 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:16:05.074 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 5908 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:16:05.098 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:16:07.466 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:16:07.662 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 184 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:16:09.750 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:16:10.062 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4849 ms
[INFO ] 2021-07-22 20:16:10.971 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:16:11.392 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:16:11.475 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:16:11.656 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.087s)
[INFO ] 2021-07-22 20:16:11.697 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:16:11.795 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:16:11.816 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:16:11.898 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:16:11.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.906 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.906 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.906 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.908 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.949 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:16:11.949 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.949 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.989 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:16:11.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:11.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.027 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:16:12.027 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.029 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.060 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:16:12.060 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.060 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.060 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.060 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.060 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.068 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.068 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.070 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.100 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:16:12.100 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.100 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.108 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.108 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.108 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.110 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.110 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.110 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.110 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.110 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.151 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:16:12.151 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.151 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.151 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.151 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:16:12.189 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.412s)
[INFO ] 2021-07-22 20:16:12.365 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:16:12.537 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:16:12.984 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:16:13.337 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:16:14.847 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:16:14.869 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:16:16.202 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:16:16.696 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49231d79, org.springframework.security.web.context.SecurityContextPersistenceFilter@51a06fd5, org.springframework.security.web.header.HeaderWriterFilter@5a8d03ce, org.springframework.security.web.authentication.logout.LogoutFilter@e196238, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@25f67aea, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@4f93303f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d76aa05, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c7d19bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62c02089, org.springframework.security.web.session.SessionManagementFilter@2cca7d3c, org.springframework.security.web.access.ExceptionTranslationFilter@5ce7ab6f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17fa25f1]
[INFO ] 2021-07-22 20:16:17.019 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:16:17.259 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:16:18.112 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:16:18.238 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:16:18.269 [main] Application - Started Application in 14.357 seconds (JVM running for 16.52)
[INFO ] 2021-07-22 20:16:42.684 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:16:42.688 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 20:16:44.646 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:16:50.783 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:16:50.792 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:17:09.525 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 14400 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:17:09.555 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:17:11.976 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:17:12.193 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 186 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:17:14.293 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:17:14.572 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4896 ms
[INFO ] 2021-07-22 20:17:15.479 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:17:15.884 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:17:15.965 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:17:16.167 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.088s)
[INFO ] 2021-07-22 20:17:16.205 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:17:16.298 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:17:16.318 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:17:16.417 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:17:16.417 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.419 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.470 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:17:16.470 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.470 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.500 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:17:16.500 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.500 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.500 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.540 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:17:16.540 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.540 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.570 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:17:16.570 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.578 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.578 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.578 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.580 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.580 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.580 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.580 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.611 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:17:16.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.611 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.619 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.619 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.619 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.619 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.619 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.659 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:17:16.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:17:16.701 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.420s)
[INFO ] 2021-07-22 20:17:16.913 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:17:17.085 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:17:17.401 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:17:17.782 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:17:19.377 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:17:19.405 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:17:20.716 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:17:21.195 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a25c9ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a70acd5, org.springframework.security.web.header.HeaderWriterFilter@51a06fd5, org.springframework.security.web.authentication.logout.LogoutFilter@6c2063e0, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3e7940b3, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1ae37be2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c4eccd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32c114d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60147536, org.springframework.security.web.session.SessionManagementFilter@6d76aa05, org.springframework.security.web.access.ExceptionTranslationFilter@1eeb9e5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a0f5567]
[INFO ] 2021-07-22 20:17:21.496 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:17:21.743 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:17:22.611 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:17:22.749 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:17:22.781 [main] Application - Started Application in 14.69 seconds (JVM running for 16.749)
[INFO ] 2021-07-22 20:17:32.127 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:17:32.131 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 20:17:33.954 [http-nio-8080-exec-5] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 20:17:36.149 [http-nio-8080-exec-6] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 20:17:37.650 [http-nio-8080-exec-9] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:21:12.671 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:21:12.671 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:21:21.844 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 2368 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:21:21.859 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:21:24.211 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:21:24.412 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:21:26.539 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:21:26.871 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4912 ms
[INFO ] 2021-07-22 20:21:27.757 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:21:28.158 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:21:28.243 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:21:28.427 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.085s)
[INFO ] 2021-07-22 20:21:28.474 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:21:28.559 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:21:28.575 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:21:28.675 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.728 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:21:28.728 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.728 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.760 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:21:28.775 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.775 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.775 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.797 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:21:28.797 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.797 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.829 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:21:28.829 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.829 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.829 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.829 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.844 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.844 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.844 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.844 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.860 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:21:28.860 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.860 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.876 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.898 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:21:28.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:21:28.945 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.398s)
[INFO ] 2021-07-22 20:21:29.130 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:21:29.310 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:21:29.673 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:21:30.055 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:21:31.392 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:21:31.414 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:21:32.763 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:21:33.227 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a25c9ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a70acd5, org.springframework.security.web.header.HeaderWriterFilter@51a06fd5, org.springframework.security.web.authentication.logout.LogoutFilter@6c2063e0, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3e7940b3, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1ae37be2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c4eccd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32c114d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60147536, org.springframework.security.web.session.SessionManagementFilter@6d76aa05, org.springframework.security.web.access.ExceptionTranslationFilter@1eeb9e5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a0f5567]
[INFO ] 2021-07-22 20:21:33.547 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:21:33.791 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:21:34.668 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:21:34.809 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:21:34.839 [main] Application - Started Application in 14.192 seconds (JVM running for 16.464)
[INFO ] 2021-07-22 20:21:38.606 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:21:38.610 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 0 ms
[DEBUG] 2021-07-22 20:21:40.391 [http-nio-8080-exec-5] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 20:21:41.877 [http-nio-8080-exec-7] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 20:21:43.677 [http-nio-8080-exec-9] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:41:33.885 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:41:33.895 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:42:18.954 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 1740 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:42:18.970 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:42:21.044 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:42:21.226 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 164 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:42:23.089 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:42:23.357 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4318 ms
[INFO ] 2021-07-22 20:42:24.165 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:42:24.507 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:42:24.588 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:42:24.770 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.084s)
[INFO ] 2021-07-22 20:42:24.800 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:42:24.880 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:42:24.901 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:42:24.981 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:42:24.981 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.981 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.981 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.981 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.991 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.991 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:24.991 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.030 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:42:25.032 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.032 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.062 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:42:25.062 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.062 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.062 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.103 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:42:25.103 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.103 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.133 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:42:25.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.141 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.141 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.141 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.143 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.163 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:42:25.163 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.163 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.171 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.171 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.204 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:42:25.204 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.204 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.204 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.204 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:42:25.233 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.359s)
[INFO ] 2021-07-22 20:42:25.395 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:42:25.557 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:42:25.879 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:42:26.212 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:42:27.465 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:42:27.489 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:42:28.659 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:42:29.103 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@510d4d4b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c7d19bf, org.springframework.security.web.header.HeaderWriterFilter@8b93c88, org.springframework.security.web.authentication.logout.LogoutFilter@17e31657, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@12f32f99, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@73ab649f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3dfe2797, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5562f297, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@234dfc8e, org.springframework.security.web.session.SessionManagementFilter@41db6e4b, org.springframework.security.web.access.ExceptionTranslationFilter@26edfa34, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49231d79]
[INFO ] 2021-07-22 20:42:29.375 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:42:29.577 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:42:30.320 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:42:30.441 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:42:30.461 [main] Application - Started Application in 12.497 seconds (JVM running for 14.654)
[INFO ] 2021-07-22 20:42:32.915 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:42:32.920 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 20:42:34.498 [http-nio-8080-exec-5] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 20:42:39.453 [http-nio-8080-exec-9] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:48:44.541 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:48:44.547 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:51:25.034 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 5272 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:51:25.055 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:51:27.181 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:51:27.366 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 167 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:51:29.340 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:51:29.594 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4441 ms
[INFO ] 2021-07-22 20:51:30.461 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:51:30.853 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:51:30.948 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:51:31.205 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.154s)
[INFO ] 2021-07-22 20:51:31.233 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:51:31.311 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:51:31.323 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:51:31.396 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:51:31.397 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.398 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.399 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.399 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.401 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.401 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.403 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.403 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.439 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:51:31.441 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.442 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.476 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:51:31.477 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.478 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.479 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.514 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:51:31.515 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.517 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.550 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:51:31.551 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.552 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.553 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.554 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.556 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.557 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.587 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:51:31.587 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.588 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.589 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.590 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.590 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.591 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.592 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.593 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.594 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.594 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.624 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:51:31.625 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.626 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.626 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.627 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:51:31.656 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.359s)
[INFO ] 2021-07-22 20:51:31.830 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:51:31.975 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:51:32.301 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:51:32.619 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:51:34.131 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:51:34.153 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:51:35.397 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:51:35.873 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73ab649f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3be60847, org.springframework.security.web.header.HeaderWriterFilter@3a70acd5, org.springframework.security.web.authentication.logout.LogoutFilter@7a8e35d1, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@234dfc8e, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@18918ab9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34c050a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f143ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1315f1d5, org.springframework.security.web.session.SessionManagementFilter@6c4eccd2, org.springframework.security.web.access.ExceptionTranslationFilter@3f7aa4f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f93303f]
[INFO ] 2021-07-22 20:51:36.149 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:51:36.373 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:51:37.150 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:51:37.284 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:51:37.305 [main] Application - Started Application in 13.347 seconds (JVM running for 15.281)
[INFO ] 2021-07-22 20:51:40.186 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:51:40.189 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[DEBUG] 2021-07-22 20:51:44.018 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:51:58.917 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:51:58.921 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:53:28.519 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 16320 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:53:28.539 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:53:30.549 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:53:30.729 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 162 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:53:32.677 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:53:32.935 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4304 ms
[INFO ] 2021-07-22 20:53:33.728 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:53:34.111 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:53:34.187 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:53:34.350 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.072s)
[INFO ] 2021-07-22 20:53:34.382 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:53:34.469 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:53:34.482 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:53:34.556 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:53:34.557 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.558 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.559 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.561 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.562 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.562 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.563 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.564 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.564 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.598 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:53:34.598 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.599 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.632 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:53:34.633 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.634 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.635 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.662 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:53:34.663 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.691 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:53:34.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.693 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.694 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.694 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.695 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.697 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.698 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.719 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:53:34.720 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.721 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.722 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.723 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.723 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.724 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.725 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.725 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.726 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.726 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.746 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:53:34.747 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.748 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.749 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.750 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:53:34.770 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.326s)
[INFO ] 2021-07-22 20:53:34.950 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:53:35.063 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:53:35.359 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:53:35.678 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:53:36.988 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:53:37.009 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:53:38.293 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:53:38.744 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fa0943d, org.springframework.security.web.context.SecurityContextPersistenceFilter@73f6ffb1, org.springframework.security.web.header.HeaderWriterFilter@21d478f3, org.springframework.security.web.authentication.logout.LogoutFilter@21252bef, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@73bb782d, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@3a3375d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fecdd00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37bac0f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63bb719d, org.springframework.security.web.session.SessionManagementFilter@3f6fd33b, org.springframework.security.web.access.ExceptionTranslationFilter@41db6e4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e7940b3]
[INFO ] 2021-07-22 20:53:39.020 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:53:39.266 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:53:40.060 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:53:40.179 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:53:40.202 [main] Application - Started Application in 12.762 seconds (JVM running for 14.513)
[INFO ] 2021-07-22 20:53:43.814 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:53:43.820 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 5 ms
[DEBUG] 2021-07-22 20:53:45.409 [http-nio-8080-exec-3] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 20:54:15.109 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:54:15.117 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:54:22.470 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 9524 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:54:22.488 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:54:24.558 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:54:24.732 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:54:26.734 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:54:26.984 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4405 ms
[INFO ] 2021-07-22 20:54:27.740 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:54:28.092 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:54:28.158 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:54:28.328 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.074s)
[INFO ] 2021-07-22 20:54:28.364 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:54:28.459 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:54:28.471 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:54:28.561 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:54:28.561 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.562 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.563 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.564 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.564 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.565 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.566 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.567 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.569 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.570 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.606 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:54:28.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.636 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:54:28.636 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.637 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.668 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:54:28.669 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.669 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.699 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:54:28.700 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.703 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.704 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.704 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.705 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.706 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.707 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.737 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:54:28.738 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.739 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.740 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.741 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.742 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.742 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.743 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.744 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.745 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.771 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:54:28.772 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.773 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.774 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.775 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:28.805 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.364s)
[INFO ] 2021-07-22 20:54:28.979 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:54:29.133 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:54:29.429 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:54:29.813 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:54:31.297 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:54:31.319 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:54:32.440 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:54:32.877 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@234dfc8e, org.springframework.security.web.context.SecurityContextPersistenceFilter@19ea65f4, org.springframework.security.web.header.HeaderWriterFilter@475fb7, org.springframework.security.web.authentication.logout.LogoutFilter@e74300b, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@18918ab9, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1315f1d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ecf4608, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b2c9a69, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b32f0b4, org.springframework.security.web.session.SessionManagementFilter@564e9c0b, org.springframework.security.web.access.ExceptionTranslationFilter@6d76aa05, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62c02089]
[INFO ] 2021-07-22 20:54:33.157 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:54:33.369 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:54:34.219 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:54:34.340 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:54:34.363 [main] Application - Started Application in 12.937 seconds (JVM running for 14.723)
[INFO ] 2021-07-22 20:54:34.661 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:54:34.668 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 20:54:43.599 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 13752 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 20:54:43.620 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 20:54:45.747 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 20:54:45.929 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 164 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 20:54:47.988 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 20:54:48.236 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4516 ms
[INFO ] 2021-07-22 20:54:49.068 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 20:54:49.459 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 20:54:49.541 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 20:54:49.719 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.071s)
[INFO ] 2021-07-22 20:54:49.746 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 20:54:49.830 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 20:54:49.844 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 20:54:49.923 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 20:54:49.924 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.925 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.926 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.926 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.927 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.928 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.929 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.929 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.930 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.930 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.971 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 20:54:49.973 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:49.974 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.007 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 20:54:50.008 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.009 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.010 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.045 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 20:54:50.046 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.047 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.078 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 20:54:50.079 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.080 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.081 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.082 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.083 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.085 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.086 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.114 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 20:54:50.115 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.116 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.117 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.118 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.119 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.120 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.121 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.123 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.124 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.152 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 20:54:50.153 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.154 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.154 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.155 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 20:54:50.177 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.363s)
[INFO ] 2021-07-22 20:54:50.333 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 20:54:50.495 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 20:54:50.808 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 20:54:51.176 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 20:54:52.431 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 20:54:52.462 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 20:54:53.659 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 20:54:54.086 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@100d5018, org.springframework.security.web.context.SecurityContextPersistenceFilter@628e0403, org.springframework.security.web.header.HeaderWriterFilter@2e7cd4bb, org.springframework.security.web.authentication.logout.LogoutFilter@2e871e93, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@6a25c9ad, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@3e7940b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5367d46f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ecf4608, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ae37be2, org.springframework.security.web.session.SessionManagementFilter@3f7aa4f8, org.springframework.security.web.access.ExceptionTranslationFilter@19c578bf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31d09031]
[INFO ] 2021-07-22 20:54:54.352 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 20:54:54.589 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 20:54:55.357 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 20:54:55.484 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 20:54:55.506 [main] Application - Started Application in 12.964 seconds (JVM running for 14.717)
[INFO ] 2021-07-22 20:54:57.520 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 20:54:57.524 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 3 ms
[DEBUG] 2021-07-22 20:54:59.068 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:00:26.728 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:00:26.743 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:00:34.132 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 7848 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:00:34.147 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:00:36.219 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:00:36.390 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:00:38.245 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:00:38.492 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4275 ms
[INFO ] 2021-07-22 21:00:39.285 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:00:39.632 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:00:39.710 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:00:39.874 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.068s)
[INFO ] 2021-07-22 21:00:39.894 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:00:39.975 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:00:39.995 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:00:40.073 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.124 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:00:40.124 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.126 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.156 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:00:40.156 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.156 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.156 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.195 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:00:40.195 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.197 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.225 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:00:40.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.227 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.227 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.227 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.227 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.227 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.227 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.227 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.257 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:00:40.257 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.257 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.257 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.265 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.267 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.267 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.267 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.267 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.297 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:00:40.297 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.297 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.297 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.297 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:00:40.328 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.369s)
[INFO ] 2021-07-22 21:00:40.487 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:00:40.620 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:00:40.920 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:00:41.224 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:00:42.432 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:00:42.448 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:00:43.577 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:00:44.009 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@900ffc4, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f143ea, org.springframework.security.web.header.HeaderWriterFilter@32c114d9, org.springframework.security.web.authentication.logout.LogoutFilter@a486851, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@39d44217, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@3280a79a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@786de0a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@218c6d3e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79fbcef4, org.springframework.security.web.session.SessionManagementFilter@7b23aea2, org.springframework.security.web.access.ExceptionTranslationFilter@19ea65f4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73ab649f]
[INFO ] 2021-07-22 21:00:44.283 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:00:44.495 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:00:45.291 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:00:45.402 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:00:45.431 [main] Application - Started Application in 12.299 seconds (JVM running for 14.078)
[INFO ] 2021-07-22 21:00:47.818 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 21:00:47.823 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-22 21:00:49.537 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 21:00:53.570 [http-nio-8080-exec-6] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:01:03.880 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:01:03.880 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:01:11.251 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 14824 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:01:11.266 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:01:13.338 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:01:13.515 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 153 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:01:15.387 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:01:15.619 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4279 ms
[INFO ] 2021-07-22 21:01:16.405 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:01:16.746 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:01:16.816 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:01:16.980 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.073s)
[INFO ] 2021-07-22 21:01:17.016 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:01:17.091 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:01:17.109 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:01:17.182 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:01:17.182 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.182 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.182 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.182 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.190 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.190 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.190 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.192 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.192 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.192 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.232 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:01:17.232 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.232 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.263 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:01:17.263 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.271 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.271 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.303 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:01:17.303 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.303 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.333 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:01:17.341 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.341 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.341 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.374 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:01:17.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.374 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.382 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.382 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.382 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.384 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.384 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.412 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:01:17.414 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.414 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.414 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.414 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:01:17.444 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.364s)
[INFO ] 2021-07-22 21:01:17.606 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:01:17.747 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:01:18.058 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:01:18.368 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:01:19.660 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:01:19.680 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:01:20.800 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:01:21.233 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b32f0b4, org.springframework.security.web.context.SecurityContextPersistenceFilter@34c050a1, org.springframework.security.web.header.HeaderWriterFilter@6c4eccd2, org.springframework.security.web.authentication.logout.LogoutFilter@76a1cc1a, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@77d7d2d0, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@63075ad1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4505ec36, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@786de0a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fa0943d, org.springframework.security.web.session.SessionManagementFilter@3be60847, org.springframework.security.web.access.ExceptionTranslationFilter@628e0403, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@732ae29c]
[INFO ] 2021-07-22 21:01:21.504 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:01:21.728 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:01:22.484 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:01:22.595 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:01:22.623 [main] Application - Started Application in 12.392 seconds (JVM running for 14.203)
[INFO ] 2021-07-22 21:01:25.615 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 21:01:25.620 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 5 ms
[DEBUG] 2021-07-22 21:01:27.349 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 21:01:29.380 [http-nio-8080-exec-6] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 21:01:37.126 [http-nio-8080-exec-8] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:03:31.479 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:03:31.495 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:03:38.758 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 936 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:03:38.773 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:03:40.870 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:03:41.039 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 157 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:03:42.864 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:03:43.134 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4259 ms
[INFO ] 2021-07-22 21:03:43.912 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:03:44.263 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:03:44.334 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:03:44.485 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.067s)
[INFO ] 2021-07-22 21:03:44.515 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:03:44.594 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:03:44.614 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:03:44.687 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.687 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.727 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:03:44.727 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.727 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.765 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:03:44.768 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.768 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.768 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.798 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:03:44.798 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.798 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.828 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:03:44.828 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.828 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.828 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.836 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.836 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.836 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.838 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.838 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.858 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:03:44.858 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.866 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.866 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.866 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.868 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.868 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.868 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.868 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.868 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.868 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.889 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:03:44.889 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.889 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.897 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.897 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:03:44.919 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.337s)
[INFO ] 2021-07-22 21:03:45.080 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:03:45.201 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:03:45.501 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:03:45.816 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:03:47.114 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:03:47.130 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:03:48.259 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:03:48.683 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2438a038, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c4eccd2, org.springframework.security.web.header.HeaderWriterFilter@6d76aa05, org.springframework.security.web.authentication.logout.LogoutFilter@5bb7fc38, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@50b010d4, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@510d4d4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3be60847, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b23aea2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f32f99, org.springframework.security.web.session.SessionManagementFilter@3a70acd5, org.springframework.security.web.access.ExceptionTranslationFilter@2e7cd4bb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a86112a]
[INFO ] 2021-07-22 21:03:48.945 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:03:49.146 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:03:49.911 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:03:50.023 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:03:50.044 [main] Application - Started Application in 12.319 seconds (JVM running for 14.085)
[INFO ] 2021-07-22 21:03:53.465 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 21:03:53.469 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 3 ms
[DEBUG] 2021-07-22 21:03:54.917 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 21:03:56.049 [http-nio-8080-exec-6] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:10:08.713 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:10:08.729 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:10:17.076 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 15764 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:10:17.096 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:10:19.153 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:10:19.320 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 144 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:10:21.146 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:10:21.396 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4209 ms
[INFO ] 2021-07-22 21:10:22.164 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:10:22.527 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:10:22.598 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:10:22.769 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.069s)
[INFO ] 2021-07-22 21:10:22.789 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:10:22.880 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:10:22.890 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:10:22.971 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:10:22.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.979 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.979 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:22.981 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.021 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:10:23.021 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.021 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.060 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:10:23.060 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.062 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.062 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.090 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:10:23.092 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.092 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.122 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:10:23.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.122 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.130 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.152 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:10:23.152 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.152 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.152 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.152 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.152 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.152 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.160 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.160 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.160 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.162 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.183 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:10:23.183 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.183 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.183 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.183 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:10:23.213 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.350s)
[INFO ] 2021-07-22 21:10:23.382 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:10:23.524 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:10:23.781 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:10:24.098 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:10:25.432 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:10:25.462 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:10:26.671 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:10:27.133 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2438a038, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c4eccd2, org.springframework.security.web.header.HeaderWriterFilter@6d76aa05, org.springframework.security.web.authentication.logout.LogoutFilter@5bb7fc38, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@50b010d4, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@510d4d4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3be60847, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b23aea2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f32f99, org.springframework.security.web.session.SessionManagementFilter@3a70acd5, org.springframework.security.web.access.ExceptionTranslationFilter@2e7cd4bb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a86112a]
[INFO ] 2021-07-22 21:10:27.438 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:10:27.661 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:10:28.435 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:10:28.556 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:10:28.576 [main] Application - Started Application in 12.553 seconds (JVM running for 14.273)
[INFO ] 2021-07-22 21:10:33.351 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 21:10:33.357 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 5 ms
[DEBUG] 2021-07-22 21:10:38.841 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 21:10:39.688 [http-nio-8080-exec-6] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:11:14.283 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:11:14.283 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:11:17.857 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 13248 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:11:17.873 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:11:19.892 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:11:20.063 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:11:21.869 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:11:22.132 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4175 ms
[INFO ] 2021-07-22 21:11:22.880 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:11:23.221 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:11:23.292 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:11:23.455 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.073s)
[INFO ] 2021-07-22 21:11:23.484 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:11:23.566 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:11:23.587 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:11:23.645 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:11:23.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.655 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.655 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.655 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.655 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.686 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:11:23.686 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.686 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.733 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:11:23.733 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.733 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.733 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.818 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:11:23.818 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.818 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.849 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:11:23.849 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.849 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.849 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.849 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.849 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.849 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.855 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.855 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.878 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:11:23.878 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.886 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.886 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.888 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.888 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.888 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.888 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.888 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.888 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.888 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.916 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:11:23.916 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.918 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.918 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.918 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:11:23.938 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.389s)
[INFO ] 2021-07-22 21:11:24.088 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:11:24.220 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:11:24.521 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:11:24.854 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:11:26.349 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:11:26.379 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:11:27.567 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:11:28.023 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1315f1d5, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f6fd33b, org.springframework.security.web.header.HeaderWriterFilter@5367d46f, org.springframework.security.web.authentication.logout.LogoutFilter@7d8a5ec7, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3b32f0b4, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@77d7d2d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73f6ffb1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@700b035b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63075ad1, org.springframework.security.web.session.SessionManagementFilter@21d478f3, org.springframework.security.web.access.ExceptionTranslationFilter@8b93c88, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25ee3cd6]
[INFO ] 2021-07-22 21:11:28.308 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:11:28.524 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:11:29.307 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:11:29.428 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:11:29.448 [main] Application - Started Application in 12.615 seconds (JVM running for 14.61)
[INFO ] 2021-07-22 21:11:33.256 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 21:11:33.259 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 3 ms
[DEBUG] 2021-07-22 21:11:44.242 [http-nio-8080-exec-5] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:12:32.690 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:12:32.705 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:12:40.449 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 15480 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:12:40.465 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:12:42.485 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:12:42.655 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 156 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:12:44.482 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:12:44.722 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4173 ms
[INFO ] 2021-07-22 21:12:45.493 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:12:45.809 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:12:45.871 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:12:46.025 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.070s)
[INFO ] 2021-07-22 21:12:46.056 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:12:46.141 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:12:46.156 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:12:46.295 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.295 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.310 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.365 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:12:46.365 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.365 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.395 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:12:46.395 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.395 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.395 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.426 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:12:46.426 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.426 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.442 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:12:46.442 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.457 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.457 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.457 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.457 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.457 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.457 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.457 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.488 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.495 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.511 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:12:46.511 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.511 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.511 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.511 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:12:46.559 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.425s)
[INFO ] 2021-07-22 21:12:46.858 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:12:46.989 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:12:47.269 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:12:47.557 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:12:48.691 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:12:48.713 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:12:49.788 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:12:50.221 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60147536, org.springframework.security.web.context.SecurityContextPersistenceFilter@5367d46f, org.springframework.security.web.header.HeaderWriterFilter@3f7aa4f8, org.springframework.security.web.authentication.logout.LogoutFilter@34e7a627, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@2438a038, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@50b010d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21d478f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41fe0d98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510d4d4b, org.springframework.security.web.session.SessionManagementFilter@628e0403, org.springframework.security.web.access.ExceptionTranslationFilter@6c27be1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a02d760]
[INFO ] 2021-07-22 21:12:50.483 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:12:50.677 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:12:51.381 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:12:51.489 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:12:51.511 [main] Application - Started Application in 12.329 seconds (JVM running for 14.274)
[INFO ] 2021-07-22 21:12:51.782 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:12:51.782 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:12:59.887 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 2792 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:12:59.902 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:13:01.970 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:13:02.149 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 151 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:13:04.012 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:13:04.244 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4246 ms
[INFO ] 2021-07-22 21:13:05.014 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:13:05.361 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:13:05.430 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:13:05.600 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.073s)
[INFO ] 2021-07-22 21:13:05.615 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:13:05.699 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:13:05.715 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:13:05.800 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.800 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.847 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:13:05.847 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.847 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.884 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:13:05.884 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.884 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.884 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.916 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:13:05.916 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.916 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.947 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:13:05.947 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.947 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.947 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.947 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:05.985 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:06.016 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:13:06.016 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:06.016 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:06.016 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:06.016 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:13:06.032 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.351s)
[INFO ] 2021-07-22 21:13:06.201 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:13:06.332 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:13:06.617 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:13:06.903 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:13:08.090 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:13:08.106 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:13:09.213 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:13:09.708 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b32f0b4, org.springframework.security.web.context.SecurityContextPersistenceFilter@34c050a1, org.springframework.security.web.header.HeaderWriterFilter@6c4eccd2, org.springframework.security.web.authentication.logout.LogoutFilter@76a1cc1a, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@77d7d2d0, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@63075ad1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4505ec36, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@786de0a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fa0943d, org.springframework.security.web.session.SessionManagementFilter@3be60847, org.springframework.security.web.access.ExceptionTranslationFilter@628e0403, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@732ae29c]
[INFO ] 2021-07-22 21:13:09.979 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:13:10.201 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:13:10.943 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:13:11.066 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:13:11.094 [main] Application - Started Application in 12.245 seconds (JVM running for 14.01)
[INFO ] 2021-07-22 21:13:16.650 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 21:13:16.655 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 5 ms
[DEBUG] 2021-07-22 21:13:18.360 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:14:25.821 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:14:25.836 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-22 21:14:33.163 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 8764 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-22 21:14:33.183 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-22 21:14:35.412 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-22 21:14:35.581 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 163 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-22 21:14:37.455 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-22 21:14:37.709 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4427 ms
[INFO ] 2021-07-22 21:14:38.495 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-22 21:14:38.877 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-22 21:14:38.948 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-22 21:14:39.109 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.071s)
[INFO ] 2021-07-22 21:14:39.129 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-22 21:14:39.220 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-22 21:14:39.230 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-22 21:14:39.300 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-22 21:14:39.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.308 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.308 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.308 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.308 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.310 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.310 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.351 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-22 21:14:39.351 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.351 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.389 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-22 21:14:39.389 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.391 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.391 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.421 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-22 21:14:39.421 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.421 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.452 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-22 21:14:39.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.460 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.482 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.512 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-22 21:14:39.512 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.512 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.512 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.512 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-22 21:14:39.540 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.338s)
[INFO ] 2021-07-22 21:14:39.714 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-22 21:14:39.835 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-22 21:14:40.118 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-22 21:14:40.420 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-22 21:14:41.668 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-22 21:14:41.683 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-22 21:14:42.814 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-22 21:14:43.217 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2438a038, org.springframework.security.web.context.SecurityContextPersistenceFilter@6c4eccd2, org.springframework.security.web.header.HeaderWriterFilter@6d76aa05, org.springframework.security.web.authentication.logout.LogoutFilter@5bb7fc38, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@50b010d4, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@510d4d4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3be60847, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b23aea2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f32f99, org.springframework.security.web.session.SessionManagementFilter@3a70acd5, org.springframework.security.web.access.ExceptionTranslationFilter@2e7cd4bb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a86112a]
[INFO ] 2021-07-22 21:14:43.489 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:14:43.701 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-22 21:14:44.467 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-22 21:14:44.588 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-22 21:14:44.608 [main] Application - Started Application in 12.459 seconds (JVM running for 14.273)
[INFO ] 2021-07-22 21:14:46.919 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-22 21:14:46.923 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 3 ms
[DEBUG] 2021-07-22 21:14:48.456 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 21:14:51.436 [http-nio-8080-exec-6] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-22 21:14:57.019 [http-nio-8080-exec-9] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-22 21:15:52.698 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-22 21:15:52.714 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 11:47:28.893 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 13824 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 11:47:28.915 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 11:47:31.611 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 11:47:31.931 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 261 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 11:47:34.126 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 11:47:34.444 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5406 ms
[INFO ] 2021-07-23 11:47:35.343 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 11:47:35.771 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 11:47:35.887 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 11:47:36.156 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.166s)
[INFO ] 2021-07-23 11:47:36.184 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 11:47:36.281 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 11:47:36.321 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 11:47:36.396 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 11:47:36.397 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.397 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.398 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.398 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.399 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.400 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.401 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.401 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.403 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.433 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 11:47:36.434 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.435 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.466 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 11:47:36.467 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.468 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.468 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.496 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 11:47:36.498 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.498 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.637 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 11:47:36.640 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.642 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.643 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.646 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.647 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.650 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.652 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.700 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 11:47:36.702 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.703 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.704 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.706 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.707 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.707 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.708 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.709 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.710 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.711 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.742 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 11:47:36.743 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.744 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.746 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.747 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:47:36.778 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.511s)
[INFO ] 2021-07-23 11:47:37.009 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 11:47:37.260 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 11:47:37.790 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 11:47:38.133 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 11:47:39.648 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 11:47:39.666 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 11:47:41.042 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 11:47:41.582 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732ae29c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2403c1c5, org.springframework.security.web.header.HeaderWriterFilter@5e1535e0, org.springframework.security.web.authentication.logout.LogoutFilter@63f819a6, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@100d5018, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@6a25c9ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@475fb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f6fd33b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e7940b3, org.springframework.security.web.session.SessionManagementFilter@26edfa34, org.springframework.security.web.access.ExceptionTranslationFilter@5a8d03ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74b13aa]
[INFO ] 2021-07-23 11:47:41.876 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 11:47:42.123 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 11:47:42.975 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 11:47:43.083 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 11:47:43.126 [main] Application - Started Application in 15.563 seconds (JVM running for 18.459)
[INFO ] 2021-07-23 11:47:43.416 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 11:47:43.426 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 11:50:24.467 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 13540 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 11:50:24.485 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 11:50:26.224 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 11:50:26.380 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 11:50:27.891 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 11:50:28.103 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3557 ms
[INFO ] 2021-07-23 11:50:28.774 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 11:50:29.068 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 11:50:29.122 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 11:50:29.253 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.057s)
[INFO ] 2021-07-23 11:50:29.285 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 11:50:29.348 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 11:50:29.358 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 11:50:29.427 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.427 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.459 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 11:50:29.459 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.459 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.479 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 11:50:29.479 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.479 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.479 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.519 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 11:50:29.519 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.519 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.558 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 11:50:29.558 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.560 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.600 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.629 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 11:50:29.631 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.631 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.631 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.631 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:50:29.661 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.317s)
[INFO ] 2021-07-23 11:50:29.880 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 11:50:30.033 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 11:50:30.299 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 11:50:30.630 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 11:50:31.804 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 11:50:31.818 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 11:50:32.982 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 11:50:33.351 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38e100ab, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b23aea2, org.springframework.security.web.header.HeaderWriterFilter@3dfe2797, org.springframework.security.web.authentication.logout.LogoutFilter@6dd59886, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@10b36d8a, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@318f47f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f143ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e196238, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@900ffc4, org.springframework.security.web.session.SessionManagementFilter@32c114d9, org.springframework.security.web.access.ExceptionTranslationFilter@564e9c0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50b010d4]
[INFO ] 2021-07-23 11:50:33.605 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 11:50:33.805 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 11:50:34.487 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 11:50:34.588 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 11:50:34.608 [main] Application - Started Application in 11.085 seconds (JVM running for 12.6)
[INFO ] 2021-07-23 11:51:07.814 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 11:51:07.817 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[DEBUG] 2021-07-23 11:51:09.219 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 11:51:53.500 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 11:51:53.500 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 11:52:28.218 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 13772 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 11:52:28.233 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 11:52:30.187 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 11:52:30.434 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 212 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 11:52:32.229 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 11:52:32.463 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4145 ms
[INFO ] 2021-07-23 11:52:33.287 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 11:52:33.629 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 11:52:33.693 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 11:52:33.842 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.058s)
[INFO ] 2021-07-23 11:52:33.872 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 11:52:33.959 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 11:52:33.973 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 11:52:34.038 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 11:52:34.039 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.039 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.040 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.040 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.040 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.040 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.041 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.041 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.042 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.043 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.072 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 11:52:34.073 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.074 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.103 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 11:52:34.104 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.105 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.105 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.133 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 11:52:34.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.159 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 11:52:34.160 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.161 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.161 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.162 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.162 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.163 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.163 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.164 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.189 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 11:52:34.190 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.191 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.192 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.193 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.194 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.194 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.195 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.196 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.196 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.197 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.215 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 11:52:34.216 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.216 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.217 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.218 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:52:34.241 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.296s)
[INFO ] 2021-07-23 11:52:34.409 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 11:52:34.524 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 11:52:34.801 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 11:52:35.100 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 11:52:36.289 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 11:52:36.303 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 11:52:37.477 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 11:52:37.970 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a3375d8, org.springframework.security.web.context.SecurityContextPersistenceFilter@4505ec36, org.springframework.security.web.header.HeaderWriterFilter@3be60847, org.springframework.security.web.authentication.logout.LogoutFilter@599cf2cd, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@63bb719d, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@38e100ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5562f297, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20c55658, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10b36d8a, org.springframework.security.web.session.SessionManagementFilter@34c050a1, org.springframework.security.web.access.ExceptionTranslationFilter@5367d46f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60147536]
[INFO ] 2021-07-23 11:52:38.214 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 11:52:38.421 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 11:52:39.114 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 11:52:39.216 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 11:52:39.238 [main] Application - Started Application in 11.986 seconds (JVM running for 13.771)
[INFO ] 2021-07-23 11:52:57.998 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 11:52:58.002 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-23 11:53:01.525 [http-nio-8080-exec-3] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 11:53:39.100 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 11:53:39.115 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 11:53:46.432 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 15888 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 11:53:46.450 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 11:53:48.479 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 11:53:48.617 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 128 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 11:53:50.375 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 11:53:50.596 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4047 ms
[INFO ] 2021-07-23 11:53:51.321 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 11:53:51.645 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 11:53:51.702 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 11:53:51.860 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.069s)
[INFO ] 2021-07-23 11:53:51.886 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 11:53:51.958 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 11:53:51.973 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 11:53:52.031 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 11:53:52.032 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.033 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.033 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.035 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.035 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.035 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.036 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.036 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.066 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 11:53:52.067 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.067 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.099 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 11:53:52.100 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.100 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.101 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.132 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 11:53:52.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.167 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 11:53:52.168 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.168 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.169 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.170 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.170 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.171 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.172 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.196 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 11:53:52.196 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.197 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.198 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.199 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.199 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.200 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.200 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.201 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.201 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.202 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.223 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 11:53:52.224 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.226 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 11:53:52.247 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.301s)
[INFO ] 2021-07-23 11:53:52.402 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 11:53:52.525 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 11:53:52.818 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 11:53:53.094 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 11:53:54.292 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 11:53:54.310 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 11:53:55.433 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 11:53:55.850 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63075ad1, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ecf4608, org.springframework.security.web.header.HeaderWriterFilter@564e9c0b, org.springframework.security.web.authentication.logout.LogoutFilter@597a5ead, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@5fa0943d, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@73bb782d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41fe0d98, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@472dc215, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a3375d8, org.springframework.security.web.session.SessionManagementFilter@19ea65f4, org.springframework.security.web.access.ExceptionTranslationFilter@3a70acd5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a25c9ad]
[INFO ] 2021-07-23 11:53:56.092 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 11:53:56.285 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 11:53:57.010 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 11:53:57.130 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 11:53:57.155 [main] Application - Started Application in 11.793 seconds (JVM running for 13.389)
[INFO ] 2021-07-23 11:54:00.239 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 11:54:00.241 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 1 ms
[DEBUG] 2021-07-23 11:54:01.604 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:01:15.832 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:01:15.848 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:01:19.348 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 5228 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:01:19.364 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:01:21.289 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:01:21.431 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:01:22.974 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:01:23.189 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3763 ms
[INFO ] 2021-07-23 12:01:23.923 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:01:24.223 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:01:24.278 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:01:24.422 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.059s)
[INFO ] 2021-07-23 12:01:24.445 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:01:24.521 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:01:24.537 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:01:24.607 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.639 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:01:24.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.645 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.661 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:01:24.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.676 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.692 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:01:24.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.724 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:01:24.724 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.724 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.724 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.724 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.724 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.740 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.740 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.740 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.792 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:01:24.792 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.792 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.792 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.792 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:01:24.808 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.294s)
[INFO ] 2021-07-23 12:01:24.984 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:01:25.077 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:01:25.346 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:01:25.599 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:01:26.780 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:01:26.790 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:01:27.887 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:01:28.313 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a25c9ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@628e0403, org.springframework.security.web.header.HeaderWriterFilter@2e7cd4bb, org.springframework.security.web.authentication.logout.LogoutFilter@2e871e93, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3e7940b3, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1ae37be2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5367d46f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ecf4608, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60147536, org.springframework.security.web.session.SessionManagementFilter@3f7aa4f8, org.springframework.security.web.access.ExceptionTranslationFilter@19c578bf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a0f5567]
[INFO ] 2021-07-23 12:01:28.556 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:01:28.724 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:01:29.500 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:01:29.617 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:01:29.642 [main] Application - Started Application in 11.038 seconds (JVM running for 13.296)
[INFO ] 2021-07-23 12:01:51.602 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:01:51.603 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 1 ms
[DEBUG] 2021-07-23 12:01:52.876 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:04:13.136 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:04:13.151 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:04:19.776 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 10260 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:04:19.776 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:04:21.938 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:04:22.080 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 135 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:04:23.705 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:04:23.952 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4096 ms
[INFO ] 2021-07-23 12:04:24.662 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:04:25.002 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:04:25.054 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:04:25.208 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.064s)
[INFO ] 2021-07-23 12:04:25.239 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:04:25.308 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:04:25.308 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:04:25.386 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:04:25.386 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.386 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.386 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.386 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.386 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.402 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.424 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:04:25.424 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.424 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.471 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:04:25.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.502 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:04:25.502 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.502 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.524 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.555 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.571 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.587 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:04:25.587 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.587 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.587 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.587 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:04:25.609 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.316s)
[INFO ] 2021-07-23 12:04:25.756 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:04:25.873 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:04:26.157 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:04:26.442 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:04:27.427 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:04:27.427 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:04:28.461 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:04:28.815 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73bb782d, org.springframework.security.web.context.SecurityContextPersistenceFilter@73f6ffb1, org.springframework.security.web.header.HeaderWriterFilter@21d478f3, org.springframework.security.web.authentication.logout.LogoutFilter@21252bef, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3a3375d8, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@63bb719d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fecdd00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37bac0f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38e100ab, org.springframework.security.web.session.SessionManagementFilter@3f6fd33b, org.springframework.security.web.access.ExceptionTranslationFilter@41db6e4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ae37be2]
[INFO ] 2021-07-23 12:04:29.057 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:04:29.215 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:04:30.033 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:04:30.150 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:04:30.172 [main] Application - Started Application in 11.314 seconds (JVM running for 13.09)
[INFO ] 2021-07-23 12:05:32.138 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:05:32.140 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[DEBUG] 2021-07-23 12:05:33.537 [http-nio-8080-exec-7] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:06:18.155 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:06:18.170 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:06:24.923 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 10404 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:06:24.937 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:06:26.834 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:06:27.026 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 170 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:06:28.719 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:06:28.980 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3970 ms
[INFO ] 2021-07-23 12:06:29.689 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:06:30.013 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:06:30.079 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:06:30.239 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.078s)
[INFO ] 2021-07-23 12:06:30.271 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:06:30.368 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:06:30.383 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:06:30.466 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:06:30.467 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.468 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.469 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.470 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.471 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.472 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.473 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.473 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.474 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.514 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:06:30.515 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.516 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.549 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:06:30.550 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.551 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.551 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.576 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:06:30.577 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.578 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.606 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:06:30.606 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.607 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.608 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.610 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.610 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.610 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.610 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.610 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.635 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:06:30.636 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.637 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.637 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.638 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.639 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.639 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.640 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.640 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.660 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:06:30.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.662 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.663 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:06:30.689 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.337s)
[INFO ] 2021-07-23 12:06:30.862 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:06:30.971 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:06:31.235 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:06:31.467 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:06:32.359 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:06:32.366 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:06:33.385 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:06:33.770 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38e100ab, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b23aea2, org.springframework.security.web.header.HeaderWriterFilter@3dfe2797, org.springframework.security.web.authentication.logout.LogoutFilter@6dd59886, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@10b36d8a, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@318f47f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f143ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e196238, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@900ffc4, org.springframework.security.web.session.SessionManagementFilter@32c114d9, org.springframework.security.web.access.ExceptionTranslationFilter@564e9c0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50b010d4]
[INFO ] 2021-07-23 12:06:34.002 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:06:34.182 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:06:34.833 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:06:34.954 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:06:34.984 [main] Application - Started Application in 11.019 seconds (JVM running for 12.675)
[INFO ] 2021-07-23 12:07:55.580 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:07:55.583 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[DEBUG] 2021-07-23 12:07:56.687 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:11:24.244 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:11:24.259 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:11:30.818 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 8252 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:11:30.841 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:11:32.718 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:11:32.919 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 189 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:11:34.466 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:11:34.673 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3772 ms
[INFO ] 2021-07-23 12:11:35.320 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:11:35.620 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:11:35.680 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:11:35.811 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.058s)
[INFO ] 2021-07-23 12:11:35.832 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:11:35.910 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:11:35.923 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:11:35.991 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:11:35.991 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:35.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.022 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:11:36.022 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.022 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.044 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:11:36.044 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.044 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.044 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.064 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:11:36.064 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.064 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.084 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:11:36.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.084 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.092 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.112 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.135 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:11:36.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:11:36.155 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.265s)
[INFO ] 2021-07-23 12:11:36.304 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:11:36.420 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:11:36.666 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:11:36.930 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:11:37.931 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:11:37.946 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:11:38.992 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:11:39.396 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3280a79a, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b2c9a69, org.springframework.security.web.header.HeaderWriterFilter@73f6ffb1, org.springframework.security.web.authentication.logout.LogoutFilter@52539624, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@79fbcef4, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@770be0d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@472dc215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63f819a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c54d0dc, org.springframework.security.web.session.SessionManagementFilter@3fecdd00, org.springframework.security.web.access.ExceptionTranslationFilter@3dfe2797, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18918ab9]
[INFO ] 2021-07-23 12:11:39.638 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:11:39.819 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:11:40.486 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:11:40.606 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:11:40.629 [main] Application - Started Application in 10.757 seconds (JVM running for 12.361)
[INFO ] 2021-07-23 12:11:48.954 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:11:48.955 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 1 ms
[DEBUG] 2021-07-23 12:11:50.327 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:14:26.714 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:14:26.714 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:14:33.035 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 10732 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:14:33.051 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:14:34.784 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:14:34.931 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 132 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:14:36.482 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:14:36.705 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3608 ms
[INFO ] 2021-07-23 12:14:37.369 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:14:37.670 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:14:37.739 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:14:37.887 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.063s)
[INFO ] 2021-07-23 12:14:37.909 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:14:37.993 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:14:38.009 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:14:38.072 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.072 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.109 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:14:38.109 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.109 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.141 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:14:38.141 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.156 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.156 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.194 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:14:38.194 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.194 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.256 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.288 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:14:38.288 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.294 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.294 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.294 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:14:38.310 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.337s)
[INFO ] 2021-07-23 12:14:38.498 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:14:38.598 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:14:38.820 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:14:39.121 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:14:40.025 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:14:40.040 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:14:40.974 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:14:41.353 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e7940b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a70acd5, org.springframework.security.web.header.HeaderWriterFilter@51a06fd5, org.springframework.security.web.authentication.logout.LogoutFilter@6c2063e0, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@1ae37be2, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@60147536, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c4eccd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32c114d9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2438a038, org.springframework.security.web.session.SessionManagementFilter@6d76aa05, org.springframework.security.web.access.ExceptionTranslationFilter@1eeb9e5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@106f0051]
[INFO ] 2021-07-23 12:14:41.578 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:14:41.763 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:14:42.377 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:14:42.468 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:14:42.488 [main] Application - Started Application in 10.276 seconds (JVM running for 11.875)
[INFO ] 2021-07-23 12:14:44.580 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:14:44.582 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 2 ms
[DEBUG] 2021-07-23 12:14:45.759 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:15:26.647 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:15:26.662 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:15:32.858 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 15616 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:15:32.868 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:15:34.687 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:15:34.830 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 136 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:15:36.400 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:15:36.794 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3845 ms
[INFO ] 2021-07-23 12:15:37.520 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:15:37.861 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:15:37.929 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:15:38.089 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.075s)
[INFO ] 2021-07-23 12:15:38.113 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:15:38.188 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:15:38.200 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:15:38.266 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:15:38.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.268 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.269 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.270 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.270 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.271 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.272 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.272 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.273 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.273 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.314 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:15:38.316 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.317 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.344 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:15:38.345 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.347 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.348 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.375 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:15:38.376 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.377 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.407 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:15:38.408 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.409 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.409 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.410 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.410 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.411 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.411 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.412 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.437 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:15:38.437 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.438 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.438 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.439 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.439 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.439 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.440 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.440 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.440 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.441 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.460 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:15:38.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.461 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:15:38.485 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.312s)
[INFO ] 2021-07-23 12:15:38.656 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:15:38.771 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:15:39.019 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:15:39.271 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:15:40.377 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:15:40.397 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:15:41.476 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:15:41.911 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c74ef4a, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f031994, org.springframework.security.web.header.HeaderWriterFilter@5562f297, org.springframework.security.web.authentication.logout.LogoutFilter@706dee4, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@54519d74, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@1ec96512, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e196238, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22825762, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d00c2ae, org.springframework.security.web.session.SessionManagementFilter@19983dd1, org.springframework.security.web.access.ExceptionTranslationFilter@73f6ffb1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5fa0943d]
[INFO ] 2021-07-23 12:15:42.170 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:15:42.375 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:15:43.080 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:15:43.192 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:15:43.212 [main] Application - Started Application in 11.179 seconds (JVM running for 12.743)
[INFO ] 2021-07-23 12:15:54.013 [http-nio-8080-exec-3] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:15:54.018 [http-nio-8080-exec-3] DispatcherServlet - Completed initialization in 4 ms
[DEBUG] 2021-07-23 12:15:55.374 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:22:10.809 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:22:10.813 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:22:17.076 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 14344 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:22:17.090 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:22:18.959 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:22:19.113 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:22:20.827 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:22:21.074 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3912 ms
[INFO ] 2021-07-23 12:22:21.817 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:22:22.137 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:22:22.207 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:22:22.358 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.067s)
[INFO ] 2021-07-23 12:22:22.385 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:22:22.459 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:22:22.471 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:22:22.538 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:22:22.538 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.539 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.539 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.539 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.540 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.540 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.541 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.541 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.541 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.542 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.570 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:22:22.571 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.572 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.601 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:22:22.602 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.603 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.604 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.633 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:22:22.633 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.634 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.662 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:22:22.663 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.664 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.665 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.666 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.667 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.667 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.667 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.668 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.692 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:22:22.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.693 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.693 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.695 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.697 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.698 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.699 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.700 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.724 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:22:22.725 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.726 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.726 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.727 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:22:22.749 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.302s)
[INFO ] 2021-07-23 12:22:22.926 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:22:23.050 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:22:23.329 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:22:23.610 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:22:24.811 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:22:24.833 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:22:25.886 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:22:26.315 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25ee3cd6, org.springframework.security.web.context.SecurityContextPersistenceFilter@6d76aa05, org.springframework.security.web.header.HeaderWriterFilter@2cca7d3c, org.springframework.security.web.authentication.logout.LogoutFilter@218c6d3e, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@732ae29c, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@100d5018, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a70acd5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dfe2797, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a25c9ad, org.springframework.security.web.session.SessionManagementFilter@51a06fd5, org.springframework.security.web.access.ExceptionTranslationFilter@4c897417, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3dceec83]
[INFO ] 2021-07-23 12:22:26.607 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:22:26.823 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:22:27.528 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:22:27.642 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:22:27.665 [main] Application - Started Application in 11.501 seconds (JVM running for 13.268)
[INFO ] 2021-07-23 12:22:56.307 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:22:56.311 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 3 ms
[INFO ] 2021-07-23 12:23:57.499 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:23:57.504 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:24:03.936 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 11228 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:24:03.949 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:24:05.779 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:24:05.931 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 136 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:24:07.512 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:24:07.737 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3719 ms
[INFO ] 2021-07-23 12:24:08.439 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:24:08.719 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:24:08.773 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:24:08.909 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.062s)
[INFO ] 2021-07-23 12:24:08.935 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:24:09.011 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:24:09.023 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:24:09.092 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:24:09.093 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.093 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.094 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.094 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.095 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.095 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.095 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.095 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.096 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.126 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:24:09.126 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.127 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.157 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:24:09.158 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.159 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.160 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.192 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:24:09.193 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.194 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.228 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:24:09.229 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.230 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.231 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.233 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.234 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.236 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.237 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.238 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.271 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:24:09.272 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.273 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.273 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.274 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.275 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.275 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.276 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.276 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.277 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.278 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.304 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:24:09.305 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.306 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.306 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.307 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:24:09.329 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.330s)
[INFO ] 2021-07-23 12:24:09.493 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:24:09.589 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:24:09.835 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:24:10.120 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:24:11.051 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:24:11.062 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:24:12.098 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:24:12.482 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73bb782d, org.springframework.security.web.context.SecurityContextPersistenceFilter@73f6ffb1, org.springframework.security.web.header.HeaderWriterFilter@21d478f3, org.springframework.security.web.authentication.logout.LogoutFilter@21252bef, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3a3375d8, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@63bb719d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fecdd00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37bac0f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38e100ab, org.springframework.security.web.session.SessionManagementFilter@3f6fd33b, org.springframework.security.web.access.ExceptionTranslationFilter@41db6e4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ae37be2]
[INFO ] 2021-07-23 12:24:12.733 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:24:12.920 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:24:13.609 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:24:13.724 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:24:13.748 [main] Application - Started Application in 10.724 seconds (JVM running for 12.333)
[INFO ] 2021-07-23 12:24:36.351 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:24:36.353 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 2 ms
[DEBUG] 2021-07-23 12:24:37.830 [http-nio-8080-exec-5] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:25:47.244 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:25:47.248 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:25:53.735 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 7740 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:25:53.751 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:25:55.506 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:25:55.652 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 131 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:25:57.240 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:25:57.464 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3646 ms
[INFO ] 2021-07-23 12:25:58.122 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:25:58.422 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:25:58.483 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:25:58.622 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.062s)
[INFO ] 2021-07-23 12:25:58.652 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:25:58.723 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:25:58.738 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:25:58.803 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:25:58.803 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.804 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.804 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.805 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.805 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.805 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.806 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.806 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.806 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.806 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.830 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:25:58.831 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.832 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.861 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:25:58.862 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.863 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.864 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.897 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:25:58.899 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.901 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.929 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:25:58.930 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.931 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.933 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.933 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.934 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.935 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.936 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.937 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.962 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:25:58.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.964 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.966 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.967 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.968 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.968 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.969 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.969 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.970 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.987 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:25:58.988 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.988 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.988 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:58.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:25:59.008 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.301s)
[INFO ] 2021-07-23 12:25:59.152 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:25:59.250 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:25:59.508 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:25:59.764 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:26:00.860 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:26:00.877 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:26:02.555 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:26:03.277 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2438a038, org.springframework.security.web.context.SecurityContextPersistenceFilter@5367d46f, org.springframework.security.web.header.HeaderWriterFilter@3f7aa4f8, org.springframework.security.web.authentication.logout.LogoutFilter@34e7a627, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@50b010d4, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@510d4d4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21d478f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41fe0d98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f32f99, org.springframework.security.web.session.SessionManagementFilter@628e0403, org.springframework.security.web.access.ExceptionTranslationFilter@6c27be1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a86112a]
[INFO ] 2021-07-23 12:26:03.718 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:26:03.970 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:26:04.834 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:26:05.006 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:26:05.037 [main] Application - Started Application in 12.154 seconds (JVM running for 13.991)
[INFO ] 2021-07-23 12:26:07.344 [http-nio-8080-exec-3] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:26:07.357 [http-nio-8080-exec-3] DispatcherServlet - Completed initialization in 12 ms
[DEBUG] 2021-07-23 12:26:09.023 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:26:39.329 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:26:39.333 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:26:46.404 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 11316 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:26:46.419 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:26:48.420 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:26:48.580 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 140 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:26:50.287 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:26:50.542 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4037 ms
[INFO ] 2021-07-23 12:26:51.365 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:26:51.708 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:26:51.764 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:26:51.904 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.064s)
[INFO ] 2021-07-23 12:26:51.930 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:26:52.019 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:26:52.042 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:26:52.139 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:26:52.140 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.142 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.143 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.144 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.144 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.146 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.147 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.147 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.148 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.151 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.192 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:26:52.193 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.194 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.222 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:26:52.223 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.224 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.225 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.250 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:26:52.251 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.252 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.273 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:26:52.274 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.275 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.276 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.276 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.277 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.278 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.278 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.279 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.300 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:26:52.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.302 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.302 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.303 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.304 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.304 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.304 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.305 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.305 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.306 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.330 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:26:52.331 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.332 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.332 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.333 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:26:52.355 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.347s)
[INFO ] 2021-07-23 12:26:52.524 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:26:52.667 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:26:53.087 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:26:53.431 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:26:54.660 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:26:54.673 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:26:56.763 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:26:57.438 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38e100ab, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b23aea2, org.springframework.security.web.header.HeaderWriterFilter@3dfe2797, org.springframework.security.web.authentication.logout.LogoutFilter@6dd59886, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@10b36d8a, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@318f47f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f143ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e196238, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@900ffc4, org.springframework.security.web.session.SessionManagementFilter@32c114d9, org.springframework.security.web.access.ExceptionTranslationFilter@564e9c0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50b010d4]
[INFO ] 2021-07-23 12:26:57.757 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:26:58.040 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:26:59.143 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:26:59.323 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:26:59.355 [main] Application - Started Application in 13.91 seconds (JVM running for 15.858)
[INFO ] 2021-07-23 12:27:01.224 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:27:01.226 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[DEBUG] 2021-07-23 12:27:02.899 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:28:40.830 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:28:40.837 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:28:46.810 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 6108 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:28:46.821 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:28:48.499 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:28:48.643 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:28:50.141 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:28:50.411 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3525 ms
[INFO ] 2021-07-23 12:28:51.081 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:28:51.421 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:28:51.498 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:28:51.651 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.067s)
[INFO ] 2021-07-23 12:28:51.679 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:28:51.751 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:28:51.764 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:28:51.836 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:28:51.837 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.838 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.838 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.839 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.840 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.841 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.842 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.842 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.843 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.871 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:28:51.872 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.873 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.897 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:28:51.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.898 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.899 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.923 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:28:51.925 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.926 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.960 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:28:51.961 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.964 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.964 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.966 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.992 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:28:51.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.994 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.995 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.995 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.996 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.997 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.997 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.998 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:51.999 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:52.022 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:28:52.023 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:52.024 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:52.025 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:52.025 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:28:52.043 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.303s)
[INFO ] 2021-07-23 12:28:52.204 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:28:52.311 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:28:52.569 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:28:52.865 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:28:54.052 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:28:54.066 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:28:55.656 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:28:56.176 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63075ad1, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ecf4608, org.springframework.security.web.header.HeaderWriterFilter@564e9c0b, org.springframework.security.web.authentication.logout.LogoutFilter@597a5ead, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@5fa0943d, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@73bb782d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41fe0d98, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@472dc215, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a3375d8, org.springframework.security.web.session.SessionManagementFilter@19ea65f4, org.springframework.security.web.access.ExceptionTranslationFilter@3a70acd5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a25c9ad]
[INFO ] 2021-07-23 12:28:56.471 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:28:56.713 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:28:57.528 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:28:57.686 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:28:57.710 [main] Application - Started Application in 11.752 seconds (JVM running for 13.32)
[INFO ] 2021-07-23 12:28:59.738 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:28:59.742 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 3 ms
[DEBUG] 2021-07-23 12:29:01.310 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:31:06.689 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:31:06.696 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:31:25.900 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 8840 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:31:25.916 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:31:27.870 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:31:28.018 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 133 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:31:29.632 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:31:29.863 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3866 ms
[INFO ] 2021-07-23 12:31:30.566 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:31:30.889 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:31:30.954 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:31:31.108 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.066s)
[INFO ] 2021-07-23 12:31:31.136 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:31:31.208 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:31:31.226 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:31:31.297 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:31:31.298 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.298 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.299 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.299 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.299 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.300 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.301 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.302 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.303 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.334 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:31:31.336 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.337 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.365 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:31:31.366 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.367 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.367 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.392 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:31:31.393 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.394 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.420 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:31:31.421 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.421 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.422 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.423 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.423 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.424 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.425 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.448 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:31:31.449 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.449 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.450 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.451 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.452 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.453 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.453 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.454 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.454 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.455 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.476 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:31:31.477 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.477 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.478 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.479 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:31:31.496 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.307s)
[INFO ] 2021-07-23 12:31:31.673 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:31:31.806 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:31:32.109 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:31:32.441 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:31:33.621 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:31:33.639 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:31:35.195 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:31:35.709 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fa0943d, org.springframework.security.web.context.SecurityContextPersistenceFilter@32c114d9, org.springframework.security.web.header.HeaderWriterFilter@4c7d19bf, org.springframework.security.web.authentication.logout.LogoutFilter@e763080, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@73bb782d, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@3a3375d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b23aea2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f031994, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63bb719d, org.springframework.security.web.session.SessionManagementFilter@3dfe2797, org.springframework.security.web.access.ExceptionTranslationFilter@475fb7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e7940b3]
[INFO ] 2021-07-23 12:31:36.000 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:31:36.243 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:31:37.053 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:31:37.204 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:31:37.234 [main] Application - Started Application in 12.343 seconds (JVM running for 14.088)
[INFO ] 2021-07-23 12:31:40.181 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:31:40.182 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 1 ms
[DEBUG] 2021-07-23 12:31:41.749 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 12:33:13.249 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:33:13.265 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 12:38:21.619 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 13332 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 12:38:21.635 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 12:38:23.715 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 12:38:23.846 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 12:38:25.382 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 12:38:25.620 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3856 ms
[INFO ] 2021-07-23 12:38:26.284 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 12:38:26.560 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 12:38:26.610 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 12:38:26.742 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.056s)
[INFO ] 2021-07-23 12:38:26.762 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 12:38:26.830 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 12:38:26.842 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 12:38:26.903 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.903 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.933 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 12:38:26.933 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.933 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.953 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 12:38:26.953 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.953 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.953 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.984 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 12:38:26.984 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:26.984 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.004 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.032 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 12:38:27.032 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.034 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.064 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 12:38:27.064 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.064 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.064 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.064 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 12:38:27.095 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.270s)
[INFO ] 2021-07-23 12:38:27.236 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 12:38:27.345 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 12:38:27.589 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 12:38:27.794 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 12:38:28.736 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 12:38:28.752 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 12:38:30.269 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 12:38:30.774 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39d44217, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f143ea, org.springframework.security.web.header.HeaderWriterFilter@32c114d9, org.springframework.security.web.authentication.logout.LogoutFilter@a486851, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3280a79a, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@79fbcef4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@786de0a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@218c6d3e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@770be0d0, org.springframework.security.web.session.SessionManagementFilter@7b23aea2, org.springframework.security.web.access.ExceptionTranslationFilter@19ea65f4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@234dfc8e]
[INFO ] 2021-07-23 12:38:31.056 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 12:38:31.298 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 12:38:32.105 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 12:38:32.254 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 12:38:32.280 [main] Application - Started Application in 11.543 seconds (JVM running for 13.264)
[INFO ] 2021-07-23 12:38:50.414 [http-nio-8080-exec-2] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 12:38:50.416 [http-nio-8080-exec-2] DispatcherServlet - Completed initialization in 1 ms
[DEBUG] 2021-07-23 12:38:51.939 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 12:38:58.498 [http-nio-8080-exec-8] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 12:39:08.751 [http-nio-8080-exec-3] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 12:39:29.973 [http-nio-8080-exec-7] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 12:39:50.612 [http-nio-8080-exec-1] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 15:54:16.231 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 15:54:16.247 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 15:58:11.743 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 15340 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 15:58:11.812 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 15:58:14.086 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 15:58:14.248 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 15:58:16.118 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 15:58:16.365 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4453 ms
[INFO ] 2021-07-23 15:58:17.079 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 15:58:17.381 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 15:58:17.451 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 15:58:17.647 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.123s)
[INFO ] 2021-07-23 15:58:17.678 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 15:58:17.737 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 15:58:17.752 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 15:58:17.821 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.861 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 15:58:17.861 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.861 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.892 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 15:58:17.905 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.905 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.905 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.921 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 15:58:17.921 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.921 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.952 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.968 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 15:58:17.968 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.968 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.983 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:17.999 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 15:58:18.006 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:18.006 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:18.006 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:18.006 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 15:58:18.021 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.286s)
[INFO ] 2021-07-23 15:58:18.168 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 15:58:18.307 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 15:58:18.639 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 15:58:18.941 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 15:58:20.065 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 15:58:20.103 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 15:58:21.105 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 15:58:21.468 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38e100ab, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b23aea2, org.springframework.security.web.header.HeaderWriterFilter@3dfe2797, org.springframework.security.web.authentication.logout.LogoutFilter@6dd59886, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@10b36d8a, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@318f47f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f143ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e196238, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@900ffc4, org.springframework.security.web.session.SessionManagementFilter@32c114d9, org.springframework.security.web.access.ExceptionTranslationFilter@564e9c0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50b010d4]
[INFO ] 2021-07-23 15:58:21.707 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 15:58:21.901 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 15:58:22.592 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 15:58:22.703 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 15:58:22.724 [main] Application - Started Application in 12.005 seconds (JVM running for 13.686)
[INFO ] 2021-07-23 15:59:00.751 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 15:59:00.753 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 2 ms
[INFO ] 2021-07-23 15:59:29.554 [SpringContextShutdownHook] ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 15:59:29.570 [SpringContextShutdownHook] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 16:59:29.461 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 15248 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 16:59:29.477 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 16:59:31.349 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 16:59:31.507 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 16:59:33.201 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 16:59:33.459 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3911 ms
[INFO ] 2021-07-23 16:59:34.191 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 16:59:34.512 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 16:59:34.571 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 16:59:34.745 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.078s)
[INFO ] 2021-07-23 16:59:34.772 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 16:59:34.845 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 16:59:34.859 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 16:59:34.929 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 16:59:34.930 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.931 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.931 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.931 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.932 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.932 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.932 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.932 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.933 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.933 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.969 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 16:59:34.970 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:34.971 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.010 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 16:59:35.011 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.012 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.012 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.046 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 16:59:35.047 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.048 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.078 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 16:59:35.078 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.079 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.080 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.080 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.080 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.081 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.082 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.083 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.110 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 16:59:35.110 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.111 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.111 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.112 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.113 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.114 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.115 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.115 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.116 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.117 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.138 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 16:59:35.139 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.140 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.140 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.141 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 16:59:35.165 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.333s)
[INFO ] 2021-07-23 16:59:35.316 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 16:59:35.424 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 16:59:35.677 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 16:59:35.969 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 16:59:37.081 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 16:59:37.100 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 16:59:38.186 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 16:59:38.576 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7322013f, org.springframework.security.web.context.SecurityContextPersistenceFilter@3431cb1f, org.springframework.security.web.header.HeaderWriterFilter@333e01c6, org.springframework.security.web.authentication.logout.LogoutFilter@58dd1d0c, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@3a744e32, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@18487f92, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b1d7b09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24facb47, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@252f00ba, org.springframework.security.web.session.SessionManagementFilter@304933cb, org.springframework.security.web.access.ExceptionTranslationFilter@322399e6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7444714e]
[INFO ] 2021-07-23 16:59:38.864 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 16:59:39.080 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 16:59:39.805 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 16:59:39.911 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 16:59:39.936 [main] Application - Started Application in 11.437 seconds (JVM running for 13.838)
[INFO ] 2021-07-23 16:59:59.883 [http-nio-8080-exec-1] DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[INFO ] 2021-07-23 16:59:59.886 [http-nio-8080-exec-1] DispatcherServlet - Completed initialization in 3 ms
[DEBUG] 2021-07-23 17:00:01.232 [http-nio-8080-exec-2] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:00:58.414 [http-nio-8080-exec-5] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:02:53.911 [http-nio-8080-exec-8] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:13:37.347 [http-nio-8080-exec-1] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:13:37.698 [http-nio-8080-exec-3] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:13:37.790 [http-nio-8080-exec-5] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.save() has been called with input parameters: [GenreDto(id=0, name=New Genre)]
[DEBUG] 2021-07-23 17:15:17.388 [http-nio-8080-exec-7] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:15:17.710 [http-nio-8080-exec-10] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:16:19.395 [http-nio-8080-exec-2] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:16:19.837 [http-nio-8080-exec-4] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:16:22.317 [http-nio-8080-exec-7] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[DEBUG] 2021-07-23 17:16:22.671 [http-nio-8080-exec-10] LoggingAspect - Method: ru.dtimofeev.springapp.rest.GenreController.getAll() has been called with input parameters: []
[INFO ] 2021-07-23 23:45:55.332 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 5804 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 23:45:55.346 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 23:45:57.266 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 23:45:57.421 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 139 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 23:45:59.294 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 23:45:59.566 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4154 ms
[INFO ] 2021-07-23 23:46:00.364 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 23:46:00.673 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 23:46:00.737 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 23:46:00.938 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.119s)
[INFO ] 2021-07-23 23:46:00.961 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 23:46:01.036 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 23:46:01.050 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 23:46:01.130 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 23:46:01.131 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.131 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.132 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.132 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.136 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.137 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.138 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.176 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 23:46:01.177 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.178 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.210 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 23:46:01.211 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.212 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.213 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.247 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 23:46:01.249 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.249 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.276 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 23:46:01.277 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.278 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.278 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.279 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.279 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.280 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.280 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.281 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.307 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 23:46:01.308 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.309 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.310 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.311 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.312 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.313 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.313 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.314 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.315 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.315 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.341 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 23:46:01.342 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.343 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.344 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:46:01.367 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.344s)
[INFO ] 2021-07-23 23:46:01.518 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 23:46:01.620 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 23:46:01.873 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 23:46:02.207 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 23:46:03.290 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 23:46:03.302 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 23:46:04.155 [main] AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'genreRestServiceImpl' defined in file [D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes\ru\dtimofeev\springapp\anothermicroservice\service\GenreRestServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[INFO ] 2021-07-23 23:46:04.156 [main] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 23:46:04.207 [main] ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
[ERROR] 2021-07-23 23:46:04.241 [main] LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ru.dtimofeev.springapp.anothermicroservice.service.GenreRestServiceImpl required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

[INFO ] 2021-07-23 23:46:56.278 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 11796 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 23:46:56.295 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 23:46:58.149 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 23:46:58.292 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 129 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 23:46:59.885 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 23:47:00.096 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3728 ms
[INFO ] 2021-07-23 23:47:00.827 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 23:47:01.150 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 23:47:01.209 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 23:47:01.364 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.063s)
[INFO ] 2021-07-23 23:47:01.387 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 23:47:01.450 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 23:47:01.464 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 23:47:01.529 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 23:47:01.530 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.531 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.531 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.532 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.532 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.533 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.533 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.534 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.534 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.535 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.567 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 23:47:01.568 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.569 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.597 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 23:47:01.598 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.598 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.599 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.627 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 23:47:01.628 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.628 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.658 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 23:47:01.659 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.659 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.660 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.660 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.661 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.662 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.662 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.663 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.689 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 23:47:01.690 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.691 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.692 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.693 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.694 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.694 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.695 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.696 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.697 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.719 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 23:47:01.720 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.721 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.722 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.722 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:47:01.745 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.306s)
[INFO ] 2021-07-23 23:47:01.896 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 23:47:02.009 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 23:47:02.298 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 23:47:02.582 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 23:47:03.528 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 23:47:03.540 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 23:47:04.243 [main] AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'genreRestServiceImpl' defined in file [D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes\ru\dtimofeev\springapp\anothermicroservice\service\GenreRestServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[INFO ] 2021-07-23 23:47:04.244 [main] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 23:47:04.284 [main] ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
[ERROR] 2021-07-23 23:47:04.315 [main] LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ru.dtimofeev.springapp.anothermicroservice.service.GenreRestServiceImpl required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

[INFO ] 2021-07-23 23:48:49.163 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 10628 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 23:48:49.184 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 23:48:51.147 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 23:48:51.310 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 144 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 23:48:53.055 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 23:48:53.285 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4008 ms
[INFO ] 2021-07-23 23:48:54.021 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 23:48:54.358 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 23:48:54.416 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 23:48:54.569 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.066s)
[INFO ] 2021-07-23 23:48:54.599 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 23:48:54.671 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 23:48:54.683 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 23:48:54.758 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 23:48:54.759 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.760 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.761 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.762 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.762 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.763 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.764 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.765 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.766 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.766 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.806 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 23:48:54.807 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.808 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.855 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 23:48:54.856 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.857 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.858 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.891 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 23:48:54.892 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.894 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.925 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 23:48:54.926 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.927 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.928 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.928 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.929 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.930 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.931 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.932 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.960 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 23:48:54.961 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.962 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.963 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.964 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.965 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.966 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.967 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.967 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.993 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 23:48:54.994 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.995 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.995 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:54.996 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:48:55.031 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.375s)
[INFO ] 2021-07-23 23:48:55.233 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 23:48:55.370 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 23:48:55.694 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 23:48:55.989 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 23:48:57.263 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 23:48:57.279 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 23:48:58.039 [main] AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'genreRestServiceImpl' defined in file [D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes\ru\dtimofeev\springapp\anothermicroservice\service\GenreRestServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'genreRestServiceImpl': Requested bean is currently in creation: Is there an unresolvable circular reference?
[INFO ] 2021-07-23 23:48:58.040 [main] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 23:48:58.084 [main] ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
[ERROR] 2021-07-23 23:48:58.118 [main] LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

┌─────┐
|  genreRestServiceImpl defined in file [D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes\ru\dtimofeev\springapp\anothermicroservice\service\GenreRestServiceImpl.class]
└─────┘


[INFO ] 2021-07-23 23:50:15.479 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 32 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 23:50:15.493 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 23:50:17.525 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 23:50:17.714 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 175 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 23:50:19.329 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 23:50:19.558 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3995 ms
[INFO ] 2021-07-23 23:50:20.265 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 23:50:20.603 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 23:50:20.667 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 23:50:20.806 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.063s)
[INFO ] 2021-07-23 23:50:20.835 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 23:50:20.910 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 23:50:20.921 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 23:50:20.989 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 23:50:20.990 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.990 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.991 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.991 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.992 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.993 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.994 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.994 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.995 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:20.996 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.026 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 23:50:21.026 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.027 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.058 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 23:50:21.059 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.060 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.061 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.089 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 23:50:21.090 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.092 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.132 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 23:50:21.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.136 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.136 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.137 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.138 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.166 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 23:50:21.167 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.168 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.169 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.169 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.170 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.171 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.172 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.173 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.174 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.202 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 23:50:21.202 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.202 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.203 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.204 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:50:21.225 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.326s)
[INFO ] 2021-07-23 23:50:21.372 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 23:50:21.469 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 23:50:21.712 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 23:50:22.016 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 23:50:23.119 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 23:50:23.132 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 23:50:23.856 [main] AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'genreRestServiceImpl' defined in file [D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes\ru\dtimofeev\springapp\anothermicroservice\service\GenreRestServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[INFO ] 2021-07-23 23:50:23.857 [main] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 23:50:23.900 [main] ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
[ERROR] 2021-07-23 23:50:23.930 [main] LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ru.dtimofeev.springapp.anothermicroservice.service.GenreRestServiceImpl required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

[INFO ] 2021-07-23 23:51:17.360 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 3424 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 23:51:17.376 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 23:51:19.264 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 23:51:19.422 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 142 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 23:51:21.058 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 23:51:21.293 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3848 ms
[INFO ] 2021-07-23 23:51:22.065 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 23:51:22.397 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 23:51:22.461 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 23:51:22.602 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.063s)
[INFO ] 2021-07-23 23:51:22.628 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 23:51:22.702 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 23:51:22.714 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 23:51:22.787 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 23:51:22.788 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.788 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.789 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.790 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.790 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.791 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.791 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.792 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.793 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.793 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.821 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 23:51:22.822 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.822 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.852 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 23:51:22.853 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.853 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.854 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.886 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 23:51:22.887 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.889 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.918 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 23:51:22.919 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.920 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.921 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.922 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.923 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.924 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.924 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.925 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.952 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 23:51:22.953 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.954 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.955 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.956 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.957 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.958 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.959 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.960 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.961 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.962 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.985 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 23:51:22.986 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.987 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.988 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:22.989 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:51:23.012 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.324s)
[INFO ] 2021-07-23 23:51:23.166 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 23:51:23.276 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 23:51:23.542 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 23:51:23.814 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 23:51:24.864 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 23:51:24.877 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 23:51:25.604 [main] AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'genreRestServiceImpl' defined in file [D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes\ru\dtimofeev\springapp\anothermicroservice\service\GenreRestServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[INFO ] 2021-07-23 23:51:25.606 [main] LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
[INFO ] 2021-07-23 23:51:25.650 [main] ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
[ERROR] 2021-07-23 23:51:25.684 [main] LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ru.dtimofeev.springapp.anothermicroservice.service.GenreRestServiceImpl required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

[INFO ] 2021-07-23 23:52:53.354 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 4856 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 23:52:53.372 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 23:52:55.400 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 23:52:55.557 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 23:52:57.302 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 23:52:57.508 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4068 ms
[INFO ] 2021-07-23 23:52:58.242 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 23:52:58.552 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 23:52:58.612 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 23:52:58.769 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.068s)
[INFO ] 2021-07-23 23:52:58.797 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 23:52:58.870 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 23:52:58.881 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 23:52:58.953 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 23:52:58.954 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.954 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.955 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.956 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.956 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.957 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.958 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.959 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.960 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.960 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.995 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 23:52:58.996 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:58.997 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.034 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 23:52:59.035 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.035 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.036 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.068 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 23:52:59.069 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.069 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.095 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 23:52:59.096 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.097 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.098 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.099 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.100 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.101 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.102 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.129 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 23:52:59.130 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.131 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.131 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.132 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.133 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.134 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.135 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.136 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.136 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.158 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 23:52:59.159 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.159 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.160 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.161 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:52:59.182 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.324s)
[INFO ] 2021-07-23 23:52:59.324 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 23:52:59.432 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 23:52:59.707 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 23:53:00.005 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 23:53:01.127 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 23:53:01.140 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 23:53:02.429 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 23:53:02.833 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aacf54b, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c10eb3a, org.springframework.security.web.header.HeaderWriterFilter@6edc8385, org.springframework.security.web.authentication.logout.LogoutFilter@456beb8b, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@7a2b3cfd, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@33602729, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60b8c05c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4eb69e8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3638120f, org.springframework.security.web.session.SessionManagementFilter@52238861, org.springframework.security.web.access.ExceptionTranslationFilter@5687ba39, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1df60140]
[INFO ] 2021-07-23 23:53:02.977 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 23:53:03.194 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 23:53:03.907 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 23:53:04.005 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 23:53:04.024 [main] Application - Started Application in 11.758 seconds (JVM running for 13.392)
[INFO ] 2021-07-23 23:53:13.243 [main] Application - Starting Application using Java 11.0.11 on LAPTOP-14M69SSD with PID 12176 (D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25\target\classes started by Work in D:\Денис\Git Repositories\2021-03-otus-spring-timofeev\spring-25)
[INFO ] 2021-07-23 23:53:13.259 [main] Application - No active profile set, falling back to default profiles: default
[INFO ] 2021-07-23 23:53:15.103 [main] RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[INFO ] 2021-07-23 23:53:15.264 [main] RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 143 ms. Found 4 JPA repository interfaces.
[INFO ] 2021-07-23 23:53:17.024 [main] TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
[INFO ] 2021-07-23 23:53:17.247 [main] ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3914 ms
[INFO ] 2021-07-23 23:53:17.940 [main] H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
[INFO ] 2021-07-23 23:53:18.256 [main] VersionPrinter - Flyway Community Edition 7.8.2 by Redgate
[INFO ] 2021-07-23 23:53:18.330 [main] BaseDatabaseType - Database: jdbc:h2:mem:testdb (H2 1.4)
[INFO ] 2021-07-23 23:53:18.484 [main] DbValidate - Successfully validated 8 migrations (execution time 00:00.073s)
[INFO ] 2021-07-23 23:53:18.509 [main] JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
[INFO ] 2021-07-23 23:53:18.582 [main] DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
[INFO ] 2021-07-23 23:53:18.592 [main] DbMigrate - Migrating schema "PUBLIC" to version "1.0 - 2021 05 08 Create tables"
[INFO ] 2021-07-23 23:53:18.669 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Authors"
[INFO ] 2021-07-23 23:53:18.669 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.670 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.670 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.671 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.672 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.672 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.673 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.674 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.675 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.714 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "01 Add Users"
[INFO ] 2021-07-23 23:53:18.715 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.716 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.749 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add Genres"
[INFO ] 2021-07-23 23:53:18.750 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.751 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.752 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.782 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "02 Add UserAuthorities"
[INFO ] 2021-07-23 23:53:18.783 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.784 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.815 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "03 Add Books"
[INFO ] 2021-07-23 23:53:18.816 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.817 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.818 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.818 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.819 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.820 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.821 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.822 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.849 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "04 Add BookAuthorLink"
[INFO ] 2021-07-23 23:53:18.849 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.850 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.851 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.852 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.852 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.853 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.854 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.855 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.856 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.856 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.881 [main] DbMigrate - Migrating schema "PUBLIC" with repeatable migration "05 Add BookComments"
[INFO ] 2021-07-23 23:53:18.882 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.883 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.883 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.884 [main] DefaultSqlScriptExecutor - 1 rows affected
[INFO ] 2021-07-23 23:53:18.905 [main] DbMigrate - Successfully applied 8 migrations to schema "PUBLIC", now at version v1.0 (execution time 00:00.338s)
[INFO ] 2021-07-23 23:53:19.066 [main] LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
[INFO ] 2021-07-23 23:53:19.165 [main] Version - HHH000412: Hibernate ORM core version 5.4.30.Final
[INFO ] 2021-07-23 23:53:19.429 [main] Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
[INFO ] 2021-07-23 23:53:19.721 [main] Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
[INFO ] 2021-07-23 23:53:20.859 [main] JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[INFO ] 2021-07-23 23:53:20.873 [main] LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
[WARN ] 2021-07-23 23:53:21.939 [main] JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[INFO ] 2021-07-23 23:53:22.337 [main] DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12faeada, org.springframework.security.web.context.SecurityContextPersistenceFilter@23f27434, org.springframework.security.web.header.HeaderWriterFilter@752573df, org.springframework.security.web.authentication.logout.LogoutFilter@73f6ffb1, ru.dtimofeev.springapp.security.JWTAuthenticationFilter@73a5cc47, ru.dtimofeev.springapp.security.JWTAuthorizationFilter@17fa25f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ce7ab6f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e1535e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50ac63b2, org.springframework.security.web.session.SessionManagementFilter@6bc1c8d0, org.springframework.security.web.access.ExceptionTranslationFilter@32a29361, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a35cccf]
[INFO ] 2021-07-23 23:53:22.576 [main] ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
[INFO ] 2021-07-23 23:53:22.796 [main] WelcomePageHandlerMapping - Adding welcome page template: index
[INFO ] 2021-07-23 23:53:23.478 [main] EndpointLinksResolver - Exposing 16 endpoint(s) beneath base path '/actuator'
[INFO ] 2021-07-23 23:53:23.575 [main] TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
[INFO ] 2021-07-23 23:53:23.594 [main] Application - Started Application in 11.301 seconds (JVM running for 12.798)
